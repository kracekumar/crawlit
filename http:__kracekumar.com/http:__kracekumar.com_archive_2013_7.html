<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta http-equiv="x-dns-prefetch-control" content="off"/><title>Random stream: Archive</title><link rel="icon" href="http://31.media.tumblr.com/avatar_08684c9830f1_128.png" type="image/png"/><link rel="stylesheet" media="screen" href="http://assets.tumblr.com/assets/styles/archive.css?_v=1a390aecdf722e6e2e0fb6f3af9e51ca"><script src="http://assets.tumblr.com/assets/scripts/vendor/jquery_backbone_lodash.js?_v=aa764db8ca893a8defe92009f39ecb6b"></script><script src="http://assets.tumblr.com/assets/scripts/polyfills.js?_v=b5be1e10a97269713227159704f665ec"></script><script src="http://assets.tumblr.com/assets/scripts/archive/archive.js?_v=753f1b877593cc8e4bc8e294c3ac40cb"></script><script>
            var l10n_str = l10n_str || {},
            just_clicked_browse_months = false,
            is_mobile = RegExp(" Mobile/").test(navigator.userAgent);
        </script><!--[if lt IE 9]><script>
              document.createElement('header');
              document.createElement('nav');
              document.createElement('section');
              document.createElement('article');
              document.createElement('aside');
              document.createElement('footer');
           </script><![endif]--></head><body id="body"><header id="nav_archive" class="blue_bar"><a href="/" class="title"><span id="back_to_blog"></span><img class="avatar" src="http://25.media.tumblr.com/avatar_08684c9830f1_40.png" alt="" /><h1 class="blog_title">Random stream</h1></a><div id="browse_months"><div id="jump_to_month"><span class="month">Month </span><span class="arrow"></span></div></div><nav id="register" class="nav_right"><iframe scrolling="no" frameborder="0" id="tumblr_controls" src="http://assets.tumblr.com/assets/html/archive_iframe.html?_v=00adce6fb7285572a2a2a7f10d87e867#src=http%3A%2F%2Fkracekumar.com%2Farchive%2F2013%2F7&amp;name=kracekumar" width="400" height="28" style="border:0; background-color:transparent; overflow:hidden; "></iframe></nav></header><div id="content"><!-- START CONTENT --> 
                    <header class="heading" style="display:none;"><h2 class="date">July 2013</h2><h3 class="post_count">5 posts</h3></header><section id="posts_201307" class="posts loading" style="display:none;"><div class="post post_micro is_regular post_tumblelog_2ea1319dd6a30cd913dfb6ccbc8de88a not_mine is_original with_permalink no_source no_notes has_hover" id="post_micro_56633639978"  data-post-id='56633639978' data-root-id='56633639978' data-tumblelog-name='kracekumar' data-tumblelog-key='mcD32QRLz' data-reblog-key='SgIad3GQ' data-type='regular' data-json='{"post-id":"56633639978","root-id":"56633639978","tumblelog-name":"kracekumar","tumblelog-key":"mcD32QRLz","reblog-key":"SgIad3GQ","type":"regular","json":"{\u0022post-id\u0022:\u002256633639978\u0022,\u0022root-id\u0022:\u002256633639978\u0022,\u0022tumblelog-name\u0022:\u0022kracekumar\u0022,\u0022tumblelog-key\u0022:\u0022mcD32QRLz\u0022,\u0022reblog-key\u0022:\u0022SgIad3GQ\u0022,\u0022type\u0022:\u0022regular\u0022}"}'><div class="post_header"></div><div class="post_content"><div class="post_content_inner"><div class="post_title">Funny experience of using trace module to trace function call</div><p>I came across this issue in <a href="https://github.com/jkbr/httpie/issues/128" target="_blank">httpie</a> and started my investigation.</p>

<p>The problem is while pretty printing the json, output is alpha sorted because keys are hashed and user wanted to preserve the order. Then I made 3 comments to the issue. <a href="https://github.com/jkbr/httpie/issues/128#issuecomment-21661339" target="_blank">First comment</a> was half correct and explained why it isn&#8217;t possible to get the desired output, quickly I figured my assumptions were wrong and <a href="https://github.com/jkbr/httpie/issues/128#issuecomment-21661648" target="_blank">second comment</a> explained what is actually happening, finally I proposed the <a href="https://github.com/jkbr/httpie/issues/128#issuecomment-21661700" target="_blank">solution</a>. Since I made wrong assumptions and to make further debugging easy, I want to find easiest way to trace all functions/methods invocations.</p>

<p>I remember <a href="http://nibrahim.net.in/" target="_blank">Noufal</a> sharing small snippet in twitter, but I wanted to use <a href="http://docs.python.org/2/library/trace.html" target="_blank">trace</a> and wrote small snippet(final one).</p>

<pre><code> #! -*- coding: utf-8 -*-

 from httpie.core import main
 #import pdb
 import sys
 #import os
 #import trace

 #pdb.set_trace()
 main(args=sys.argv[1:])
</code></pre>

<p>First I ran the command <code>python -m trace --trace httpie_test.py --pretty=all <a href="http://httpbin.org/get" target="_blank">http://httpbin.org/get</a></code> and it printed some 20 million lines. Then I got clever idea of using <a href="http://pythonconquerstheuniverse.wordpress.com/2009/09/10/debugging-in-python/" target="_blank">pdb</a>.</p>

<p>I debugged with pdb for half an hour pressing <code>s</code> key and fed up. The pdb was beautiful like her, I was enjoying each line it was printing, it was like watching her speak and I was mesemerized. After half an hour I gave up and went back to trace command. Finally I figured out I can use <code>--ignore-module</code> from command line.</p>

<p>After one hour of spending time, final command looked like(scroll completely)</p>

<pre><code> ➜  snippets  python -m trace --trace --ignore- module=os,sre_compile,sre_parse,zipfile,text_file,sysconfig,pkg_resources,re,posixpath,genericpath,decoder,hex_codec,socket,httplib,pkgutil,stat,token,style,calendar,spawn,util,collections,abc,decimal,lexer,StringIO,plist,argparse,_abcoll,structures,Queue,threading,_collections,urlparse,cookielib,platform,cookielib,terminal256,formatter,__init__,stringprep,_weakrefset,filter,encoder,codecs,latin,connectionpool,plugin,html,pygmentplugin,htmlentitydefs,__future__,weakref,UserDict,atexit,functools,base64,struct,hashlib,ssl,textwrap,six,exceptions,warnings,mimetools,tempfile,random,tempfile,rfc822,urllib,filepost,uuid,_endian,dyld,dylib,framework,io,poolmanager,pyopenssl,utils,cgi,netrc,shlex,compat,copy,numbers,locale,locale,unicode_escape,urllib2,Cookie,_LWPCookieJar,_MozillaCookieJar,ordered_dict,cookies,certs,ascii,status_codes,gettext,scanner,config,minicompat,domreg,minidom,xmlbuilder,NodeFilter,shutil,copy_reg,string,plistlib,_mapping,bbcode,img,Image,FixTk,ImageMode,ImagePalette,ImageColor,ImageDraw,ImageFont,latex,other,console,rtf,svg,terminal,solarized,getpass,pprint,downloads,idna,agile,web,unistring,functional,jvm,compiled,mimetypes httpie_test.py --pretty=all --verbose <a href="http://headers.jsontest.com/" target="_blank">http://headers.jsontest.com/</a> &gt;&gt; op.txt
 ➜  snippets  wc -l op.txt
     2344 op.txt
</code></pre>

<p>The essay is 1269 characters to terminal and the result of it is <a href="https://github.com/jkbr/httpie/pull/151" target="_blank">pull request</a>.</p></div></div><div class="post_glass post_micro_glass" 
     title=""><a target="_blank" class="hover"
               title=""
               href="http://kracekumar.com/post/56633639978/funny-experience-of-using-trace-module-to-trace"><div class="hover_inner"><span class="post_date">Jul 28, 2013</span></div>  

            <div class="hover_tags"><span class="tags">                        #python #trace #httpie</span></div></a></div>
</div><div class="post post_micro is_regular post_tumblelog_2ea1319dd6a30cd913dfb6ccbc8de88a not_mine is_original with_permalink no_source no_notes has_hover" id="post_micro_55934089762"  data-post-id='55934089762' data-root-id='55934089762' data-tumblelog-name='kracekumar' data-tumblelog-key='mcD32QRLz' data-reblog-key='51jPRP19' data-type='regular' data-json='{"post-id":"55934089762","root-id":"55934089762","tumblelog-name":"kracekumar","tumblelog-key":"mcD32QRLz","reblog-key":"51jPRP19","type":"regular","json":"{\u0022post-id\u0022:\u002255934089762\u0022,\u0022root-id\u0022:\u002255934089762\u0022,\u0022tumblelog-name\u0022:\u0022kracekumar\u0022,\u0022tumblelog-key\u0022:\u0022mcD32QRLz\u0022,\u0022reblog-key\u0022:\u002251jPRP19\u0022,\u0022type\u0022:\u0022regular\u0022}"}'><div class="post_header"></div><div class="post_content"><div class="post_content_inner"><div class="post_title">idhuvarai naan book review</div><p></p><p dir="ltr">இது வடுகப்பட்டியில் மையம் கொண்ட சூறாவளியின் சரிதம். </p>

<p dir="ltr">இதிலுள்ள ஒவ்வொரு வார்த்தையும் வலியுள்ள வாசனையைப் பரப்பும்.<br />
இவரின் கவிதைக்கு ஒரு பொன் மான் தான் கடிதம் எழுதினாள் என்று என்னும் போது ஆச்சிரியமில்லை, மற்ற பொன் மான்களின் வார்த்தைக் கடல் வற்றியிருக்கம்.</p>

<p dir="ltr">அந்த பொன் மாலைப் பொழுதில் தான் சூறாவளி மணம் வீசத் தொடங்கியது இன்னும் மனம் மீலவில்லை. </p>

<p dir="ltr">பொன் மாலைப் பொழுதுப் பாடலின் வெற்றி முதல் போட்டியில் ஆவுத்திரலேயா அணிக்கு எதிராக சதம் அடித்த அறிமுக வீரனைப் போலயிருந்தது.</p>

<p dir="ltr">3500 ஆண்டுக்கு முன் இட்ட உறம் இமயம் தான்டி வாசனை வீசுவதில் ஒர் ஆனந்தம்.</p></div></div><div class="post_glass post_micro_glass" 
     title=""><a target="_blank" class="hover"
               title=""
               href="http://kracekumar.com/post/55934089762/idhuvarai-naan-book-review"><div class="hover_inner"><span class="post_date">Jul 20, 2013</span></div>  

            <div class="hover_tags"><span class="tags">                        #வைரமுத்து #நூல் #தமிழ்</span></div></a></div>
</div><div class="post post_micro is_regular post_tumblelog_2ea1319dd6a30cd913dfb6ccbc8de88a not_mine is_original with_permalink no_source no_notes has_hover" id="post_micro_55856724724"  data-post-id='55856724724' data-root-id='55856724724' data-tumblelog-name='kracekumar' data-tumblelog-key='mcD32QRLz' data-reblog-key='2WU1rWaP' data-type='regular' data-json='{"post-id":"55856724724","root-id":"55856724724","tumblelog-name":"kracekumar","tumblelog-key":"mcD32QRLz","reblog-key":"2WU1rWaP","type":"regular","json":"{\u0022post-id\u0022:\u002255856724724\u0022,\u0022root-id\u0022:\u002255856724724\u0022,\u0022tumblelog-name\u0022:\u0022kracekumar\u0022,\u0022tumblelog-key\u0022:\u0022mcD32QRLz\u0022,\u0022reblog-key\u0022:\u00222WU1rWaP\u0022,\u0022type\u0022:\u0022regular\u0022}"}'><div class="post_header"></div><div class="post_content"><div class="post_content_inner"><div class="post_title">http request examples for luasocket</div><p>I was looking for <code>http</code> library in lua and landed in <a href="http://w3.impa.br/~diego/software/luasocket/http.html" target="_blank">luasocket.http page</a>. It isn&#8217;t well documented, sent few <code>GET, POST, PUT</code> requests and figured few bits. This blog post aims in bridging the gap(code examples).</p>

<p>In this example, I will use <a href="https://httpbin.org" target="_blank">httpbin</a> as target site. The complete code is available as <a href="https://gist.github.com/kracekumar/6037243" target="_blank">gist</a>.</p>

<p>The following code should be executed like a standalone lua file(<code>lua lua_httpbin.lua</code>) and while executing the code in interpreter please make local variables <code>http, ltn12, base_url</code> as global variables.</p>

<pre><code>local http = require("socket.http")
local ltn12 = require("ltn12")

local base_url = "https://httpbin.org/"

--Helper for priniting nested table
function deep_print(tbl)
    for i, v in pairs(tbl) do
        if type(v) == "table" then 
            deep_print(v)
        else 
            print(i, v) 
        end
    end
end


function http_request( args )
--http.request(url [, body])
--http.request{
--  url = string,
--  [sink = LTN12 sink,]
--  [method = string,]
--  [headers = header-table,]
--  [source = LTN12 source],
--  [step = LTN12 pump step,]
--  [proxy = string,]
--  [redirect = boolean,]
--  [create = function]
--}
--
--
    local resp, r = {}, {}
    if args.endpoint then
        local params = ""
        if args.method == nil or args.method == "GET" then
            -- prepare query parameters like <a href="http://xyz.com" target="_blank">http://xyz.com</a>?q=23&amp;a=2
            if args.params then
                for i, v in pairs(args.params) do
                    params = params .. i .. "=" .. v .. "&amp;"
                end
            end
        end
        params = string.sub(params, 1, -2)
        local url = ""
        if params then url = base_url .. args.endpoint .. "?" .. params else url = base_url .. args.endpoint end
        client, code, headers, status = http.request{url=url, sink=ltn12.sink.table(resp),
                                                method=args.method or "GET", headers=args.headers, source=args.source,
                                                step=args.step,     proxy=args.proxy, redirect=args.redirect, create=args.create }
        r['code'], r['headers'], r['status'], r['response'] = code, headers, status, resp
    else
        error("endpoint is missing")
    end
    return r
end
</code></pre>

<p><code>http_request</code> takes table as an argument which is almost similar to <code>http.request</code> function with an extra parameter <code>params</code> which will be helpful for passing parameters to <code>GET</code> request.</p>

<p><code>http_request{endpoint=endpoint, params={age=23, name="kracekumar"}}</code> rather than <code>http_request{endpoint=endpoint .. "?age=23&amp;name=kracekumar"}</code>.</p>

<p>Remaining piece of code</p>

<pre><code>function main()
    -- Normal GET request
    endpoint = "/user-agent"
    print(endpoint)
    deep_print(http_request{endpoint=endpoint})
    -- GET request with parameters
    endpoint = "/get"
    print(endpoint)
    deep_print(http_request{endpoint=endpoint, params={age=23, name    ="kracekumar"}})
    -- POST request with form
    endpoint = "/post"
    print(endpoint)
    local req_body = "a=2"
    local headers = {
    ["Content-Type"] = "application/x-www-form-urlencoded";
    ["Content-Length"] = #req_body;
    }
    deep_print(http_request{endpoint=endpoint, method="POST", source=ltn12.source.string(req_body), headers=headers})
    -- PATCH Method
    endpoint = "/patch"
    print(endpoint)
    deep_print(http_request{endpoint=endpoint, method="PATCH"})
    -- PUT Method
    endpoint = "/put"
    print(endpoint)
    deep_print(http_request{endpoint=endpoint, method="PUT", source    =ltn12.source.string("a=23")})
    -- Delete method
    endpoint = "/delete"
    print(endpoint)
    deep_print(http_request{endpoint=endpoint, method="DELETE",     source=ltn12.source.string("a=23")})

end

main()
</code></pre>

<p><em>output</em></p>

<pre><code># First lua is directory name 
➜  lua  lua lua_httpbin.lua
/user-agent
status    HTTP/1.1 200 OK
code    200
connection  Close
content-type    application/json
date    Fri, 19 Jul 2013 07:32:14 GMT
content-length  37
access-control-allow-origin *
server  gunicorn/0.17.4
1   {
  "user-agent": "LuaSocket 2.0.2"
}
/get
status  HTTP/1.1 200 OK
code    200
connection  Close
content-type    application/json
date    Fri, 19 Jul 2013 07:32:15 GMT
content-length  258
access-control-allow-origin *
server  gunicorn/0.17.4
1   {
  "headers": {
    "Host": "httpbin.org",
    "Connection": "close",
    "User-Agent": "LuaSocket 2.0.2"
  },
  "url": "http://httpbin.org/get?age=23&amp;name=kracekumar",
  "args": {
    "age": "23",
    "name": "kracekumar"
  },
  "origin": "106.51.166.47"
}
/post
status    HTTP/1.1 200 OK
code    200
connection  Close
content-type    application/json
date    Fri, 19 Jul 2013 07:41:54 GMT
content-length  350
access-control-allow-origin *
server  gunicorn/0.17.4
1   {
    "json": null,
    "origin": "106.51.166.47",
    "form": {
        "a": "2"
    },
    "url": "http://httpbin.org/post",
    "args": {},
    "headers": {
    "Connection": "close",
    "Host": "httpbin.org",
    "User-Agent": "LuaSocket 2.0.2",
    "Content-Type": "application/x-www-form-urlencoded",
    "Content-Length": "3"
    },
"files": {},
"data": ""
}
/patch
status  HTTP/1.1 200 OK
code    200
connection  Close
content-type    application/json
date    Fri, 19 Jul 2013 07:32:17 GMT
content-length  251
access-control-allow-origin *
server  gunicorn/0.17.4
1   {
  "files": {},
  "headers": {
    "Host": "httpbin.org",
    "Connection": "close",
    "User-Agent": "LuaSocket 2.0.2"
  },
  "args": {},
  "json": null,
  "form": {},
  "origin": "106.51.166.47",
  "url": "http://httpbin.org/patch",
  "data": ""
}
/put
status  HTTP/1.1 200 OK
code    200
connection  Close
content-type    application/json
date    Fri, 19 Jul 2013 07:32:18 GMT
content-length  276
access-control-allow-origin *
server  gunicorn/0.17.4
1   {
  "json": null,
  "origin": "106.51.166.47",
  "form": {},
  "url": "http://httpbin.org/put",
  "args": {},
  "headers": {
    "Connection": "close",
    "Host": "httpbin.org",
    "User-Agent": "LuaSocket 2.0.2",
    "Content-Length": "0"
  },
  "files": {},
  "data": ""
}
/delete
status  HTTP/1.1 200 OK
code    200
connection  Close
content-type    application/json
date    Fri, 19 Jul 2013 07:32:19 GMT
content-length  223
access-control-allow-origin *
server  gunicorn/0.17.4
1   {
  "args": {},
  "json": null,
  "headers": {
    "Connection": "close",
    "User-Agent": "LuaSocket 2.0.2",
    "Host": "httpbin.org"
  },
  "origin": "106.51.166.47",
  "data": "",
  "url": "http://httpbin.org/delete"
}
</code></pre>

<p><em>My 2p</em></p>

<ol><li>When sending <code>GET</code> request don&#8217;t send paramters in request body.</li>
<li>When sending <code>POST</code> request set custom header for form.</li>
</ol><p>My experience of <code>luasocket.http</code> produces solid reason to create a new library with helper functions like <a href="http://python-requests.org" target="_blank">requests</a>.</p></div></div><div class="post_glass post_micro_glass" 
     title=""><a target="_blank" class="hover"
               title=""
               href="http://kracekumar.com/post/55856724724/http-request-examples-for-luasocket"><div class="hover_inner"><span class="post_date">Jul 19, 2013</span></div>  

            <div class="hover_tags"><span class="tags">                        #lua #http #luasocket</span></div></a></div>
</div><div class="post post_micro is_regular post_tumblelog_2ea1319dd6a30cd913dfb6ccbc8de88a not_mine is_original with_permalink no_source has_hover" id="post_micro_55796363713"  data-post-id='55796363713' data-root-id='55796363713' data-tumblelog-name='kracekumar' data-tumblelog-key='mcD32QRLz' data-reblog-key='zqX2zeLN' data-type='regular' data-json='{"post-id":"55796363713","root-id":"55796363713","tumblelog-name":"kracekumar","tumblelog-key":"mcD32QRLz","reblog-key":"zqX2zeLN","type":"regular","json":"{\u0022post-id\u0022:\u002255796363713\u0022,\u0022root-id\u0022:\u002255796363713\u0022,\u0022tumblelog-name\u0022:\u0022kracekumar\u0022,\u0022tumblelog-key\u0022:\u0022mcD32QRLz\u0022,\u0022reblog-key\u0022:\u0022zqX2zeLN\u0022,\u0022type\u0022:\u0022regular\u0022}"}'><div class="post_header"></div><div class="post_content"><div class="post_content_inner"><div class="post_title">Why This Kolaveri Di song words language </div><p>I was wondering how many words in <a href="https://www.youtube.com/watch?v=JJpCV31n7T8" target="_blank">why this kolaveri di</a> song belongs to english. So I wrote this code to evaluate.</p>

<pre><code>#! /usr/bin/env
#! -*- coding: utf-8 -*-

lyrics = """
yo boys i am singing song
soup song
flop song
why this kolaveri kolaveri kolaveri di
why this kolaveri kolaveri kolaveri di
rhythm correct
why this kolaveri kolaveri kolaveri di
maintain please
why this kolaveri di

distance la moon-u moon-u
moon-u color-u white-u
white background night-u night-u
night-u color-u black-u

why this kolaveri kolaveri kolaveri di
why this kolaveri kolaveri kolaveri di

white skin-u girl-u girl-u
girl-u heart-u black-u
eyes-u eyes-u meet-u meet-u
my future dark

why this kolaveri kolaveri kolaveri di
why this kolaveri kolaveri kolaveri di

maama notes eduthuko
apdiye kaila snacks eduthuko
pa pa paan pa pa paan pa pa paa pa pa paan
sariya vaasi
super maama ready
ready 1 2 3 4

whaa wat a change over maama

ok maama now tune change-u

kaila glass
only english

hand la glass
glass la scotch
eyes-u full-a tear-u
empty life-u
girl-u come-u
life reverse gear-u
love-u love-u
oh my love-u
you showed me bouv-u
cow-u cow-u holy cow-u
i want you hear now-u
god i am dying now-u
she is happy how-u

this song for soup boys-u
we dont have choice-u

why this kolaveri kolaveri kolaveri di
why this kolaveri kolaveri kolaveri di
why this kolaveri kolaveri kolaveri di
why this kolaveri kolaveri kolaveri di

flop song
"""
dict_file_path = "/usr/share/dict/words"


def sanitize(words):
    for index, word in enumerate(words):
        if word.endswith("-u") or word.endswith("-a"):
            words[index] = word[:-2]


if __name__ == "__main__":
    # Get all words
    words = [word for line in lyrics.split("\n") for word in line.split(" ") if word != ""]
    # Load english words
    dictionary_words = open(dict_file_path).readlines()
    # Remove \n in dictionary words
    dictionary_words = [word.split("\n")[0] for word in dictionary_words]
    # Add missing words
    dictionary_words.append("boys")
    dictionary_words.append("snacks")
    dictionary_words.append("eyes")
    dictionary_words.append("english")
    dictionary_words.append("1")
    dictionary_words.append("2")
    dictionary_words.append("3")
    dictionary_words.append("4")
    dictionary_words.append("notes")
    dictionary_words.append("ok")
    dictionary_words.append("showed")
    # Remove -u which sounds like Tamil words
    sanitize(words)
    # Find unique words
    unique_words = set(words)
    # Find english words
    eng_words = [word for word in unique_words if word in dictionary_words]
    non_eng_words = unique_words - set(eng_words)
    # Remove empty element
    non_eng_words = [word for word in non_eng_words if word != ""]
    print("==English Words==")
    print(eng_words)
    print("==Non English Words==")
    print(non_eng_words)
    print("Total unique words: %d,\n English words: %d,\n Non English words: %d,\n percentage of english words: %f" % (len(unique_words), len(eng_words), len(non_eng_words), float(len(eng_words))/len(unique_words) * 100))
</code></pre>

<p><em>Output</em></p>

<pre><code>➜  lua  python why_this_kolaveri_di.py
==English Words==
['over', 'skin', 'la', 'only', 'black', '4', 'rhythm', 'yo', 'di', 'choice', 'dark', 'background', '2', 'now', 'tear', 'notes', 'she', 'night', 'girl', 'for', 'god', 'please', 'moon', '3', 'correct', 'we', 'full', 'how', 'super', 'change', 'ok', 'reverse', 'cow', 'oh', 'love', 'dont', 'color', 'singing', 'come', 'pa', 'white', 'wat', 'empty', 'happy', 'eyes', 'gear', 'holy', 'boys', 'hear', 'me', 'distance', 'showed', 'this', 'soup', 'future', 'meet', 'my', 'heart', 'have', 'snacks', 'is', 'am', 'want', 'ready', 'dying', 'song', '1', 'you', 'hand', 'why', 'tune', 'a', 'glass', 'i', 'scotch', 'flop', 'life', 'maintain', 'english']
==Non English Words==
['kaila', 'sariya', 'paa', 'apdiye', 'eduthuko', 'vaasi', 'maama', 'whaa',  'bouv', 'paan', 'kolaveri']
Total unique words: 90,
English words: 79,
Non English words: 11,
Percentage of english words: 87.777778
</code></pre>

<p>It turns out, song contains <code>90</code> unqiue words, <code>79</code> words are <code>english</code> and <code>11</code> are <code>non english</code>(Tamil). <code>87.8%</code> words are english. So here after call <code>why this kolaveri di</code> song as <code>Tanglish(Tamil + English)</code> song.</p>

<p>Gist: <a href="https://gist.github.com/kracekumar/6031683" target="_blank">https://gist.github.com/kracekumar/6031683</a></p></div></div><div class="post_glass post_micro_glass" 
     title=""><a target="_blank" class="hover"
               title=""
               href="http://kracekumar.com/post/55796363713/why-this-kolaveri-di-song-words-language"><div class="hover_inner"><span class="post_date">Jul 18, 2013</span><span class="post_notes"
                        data-notes="1">1 note</span></div>  

            <div class="hover_tags"><span class="tags">                        #python #why-this-kolaveri-di #tanglish #tamil</span></div></a></div>
</div><div class="post post_micro is_regular post_tumblelog_2ea1319dd6a30cd913dfb6ccbc8de88a not_mine is_original with_permalink no_source no_notes has_hover" id="post_micro_54437887454"  data-post-id='54437887454' data-root-id='54437887454' data-tumblelog-name='kracekumar' data-tumblelog-key='mcD32QRLz' data-reblog-key='27McJBSC' data-type='regular' data-json='{"post-id":"54437887454","root-id":"54437887454","tumblelog-name":"kracekumar","tumblelog-key":"mcD32QRLz","reblog-key":"27McJBSC","type":"regular","json":"{\u0022post-id\u0022:\u002254437887454\u0022,\u0022root-id\u0022:\u002254437887454\u0022,\u0022tumblelog-name\u0022:\u0022kracekumar\u0022,\u0022tumblelog-key\u0022:\u0022mcD32QRLz\u0022,\u0022reblog-key\u0022:\u002227McJBSC\u0022,\u0022type\u0022:\u0022regular\u0022}"}'><div class="post_header"></div><div class="post_content"><div class="post_content_inner"><div class="post_title">SSL for flask local development </div><p>Recently at <a href="https://blog.hasgeek.com/2013/https-everywhere-at-hasgeek" target="_blank">HasGeek</a> we moved all our web application to <code>https</code>. So I wanted to have all my development environment urls to have <code>https</code>.</p>

<p><em>How to have <code>https</code> in <a href="http://flask.pocoo.org" target="_blank">flask</a> app</em></p>

<p><em>Method 1</em></p>

<pre><code>from flask import Flask
app = Flask(__name__)
app.run('0.0.0.0', debug=True, port=8100, ssl_context='adhoc')
</code></pre>

<p>In the above piece of code, <code>ssl_context</code> variable is passed to <code>werkezug.run_simple</code> which creates SSL certificates using <code>OpenSSL</code>, you may need to install <code>pyopenssl</code>. I had issues with this method, so I generated self signed certificate.</p>

<p><em>Method 2</em></p>

<ul><li><p>Generate a private key<br /><code>openssl genrsa -des3 -out server.key 1024</code></p></li>
<li><p>Generate a CSR<br /><code>openssl req -new -key server.key -out server.csr</code></p></li>
<li><p>Remove Passphrase from key<br /><code>cp server.key server.key.org</code>
<code>openssl rsa -in server.key.org -out server.key</code></p></li>
<li><p>Generate self signed certificate<br /><code>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</code></p></li>
</ul><p><em>code</em></p>

<pre><code>from flask import Flask    
app = Flask(__name__)    
app.run('0.0.0.0', debug=True, port=8100, ssl_context=('/Users/kracekumarramaraju/certificates/server.crt', '/Users/kracekumarramaraju/certificates/server.key'))    
</code></pre>

<p><code>ssl_context</code> can take option <code>adhoc</code> or <code>tuple of the form (cert_file, pkey_file)</code>.</p>

<p>In case you are using <code>/etc/hosts</code>, add something similar <code>127.0.0.1    <a href="https://hacknight.local" target="_blank">https://hacknight.local</a></code> for accessing the web application locally.</p>

<p>Here is much detailed post about generating self signed <a href="http://www.akadia.com/services/ssh_test_certificate.html" target="_blank">certificates</a>.</p></div></div><div class="post_glass post_micro_glass" 
     title=""><a target="_blank" class="hover"
               title=""
               href="http://kracekumar.com/post/54437887454/ssl-for-flask-local-development"><div class="hover_inner"><span class="post_date">Jul 2, 2013</span></div>  

            <div class="hover_tags"><span class="tags">                        #python #ssl #https #flask</span></div></a></div>
</div></section><!-- END CONTENT --></div><div id="pagination"><div id="next_page" style="display:none"><a id="next_page_link" href="/archive/2013/7?before_time=1372783839">Next page &rarr;</a></div></div><iframe onload="javascript:this.contentWindow.postMessage(['tick_google_analytics', '/archive/2013/7?route=%2Farchive%2F%3Ayear%2F%3Amonth'].join(';'), this.src.split('/analytics.html')[0]);  COMSCORE = true;this.contentWindow.postMessage('enable_comscore;' + window.location, this.src.split('/analytics.html')[0]);" src="http://assets.tumblr.com/analytics.html?dfe9b9d3e783ff1f12fd8ce1b733bdc0" scrolling="no" width="1" height="1" frameborder="0" style="background-color:transparent; overflow:hidden; position:absolute; top:0; left:0 z-index:9999;" id="ga_target"></iframe><script type="text/javascript">
      var _qevents = _qevents || [];

      (function() {
       var elem = document.createElement('script');

       elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
       elem.async = true;
       elem.type = "text/javascript";
       var scpt = document.getElementsByTagName('script')[0];
       scpt.parentNode.insertBefore(elem, scpt);
      })();
    </script><script type="text/javascript">
        _qevents.push( { qacct: 'p-19UtqE8ngoZbM' } );
    </script><noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/'p-19UtqE8ngoZbM'.gif" height="1" width="1" alt="Quantcast"/></div></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1386435191&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wva3JhY2VrdW1hci5jb21cL2FyY2hpdmVcLzIwMTNcLzciLCJyZXF0eXBlIjowLCJyb3V0ZSI6IlwvYXJjaGl2ZVwvOnllYXJcLzptb250aCJ9&U=FCPPDLOJMI&K=cb0fa2f58c5d83dc829fc1a4812f72da2d5fada0227aab270c080ec89cd628b5&R='.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1386435191&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wva3JhY2VrdW1hci5jb21cL2FyY2hpdmVcLzIwMTNcLzciLCJyZXF0eXBlIjowLCJyb3V0ZSI6IlwvYXJjaGl2ZVwvOnllYXJcLzptb250aCIsIm5vc2NyaXB0IjoxfQ==&U=FCPPDLOJMI&K=653fd530ac88884d67a6585911791eab67bb9dc9de53a81f7e26b9261490d187&R="></noscript><script type="text/javascript" src="http://l.yimg.com/ss/rapid-3.9.js"></script><script>
                    (function(YAHOO) {
                        if (YAHOO) {
                            YAHOO.i13n.beacon_server = 'nol.yahoo.com';
                            var keys = { pd:'/archive/:year/:month', _li:0, i_rad:0, i_strm:0 };
                            YAHOO.rapid = new YAHOO.i13n.Rapid({spaceid:1197719231, oo:1, client_only:1, yql_enabled:false, keys:keys});
                        }
                    })(window.YAHOO);
                </script><div id="browse_months_widget" class="popover popover_gradient" style="display:none"><div class="popover_inner"><section id="year_2013" class="year" style="display:block"><header class="year_navigation"><a class="previous_year" href="#"><span>2012</span></a><span class="current_year">2013</span><div class="next_year"><span></span></div><div class="clear"></div></header><nav class="months"><ul><li><a href="/archive/2013/1">January</a><span class="count">3</span></li><li><a href="/archive/2013/2">February</a><span class="count">1</span></li><li><a href="/archive/2013/3">March</a><span class="count">8</span></li><li><a href="/archive/2013/4">April</a><span class="count">2</span></li><li><a href="/archive/2013/5">May</a><span class="count">3</span></li><li><a href="/archive/2013/6">June</a><span class="count">4</span></li><li><a href="/archive/2013/7">July</a><span class="count">5</span></li><li><a href="/archive/2013/8">August</a><span class="count">2</span></li><li><a href="/archive/2013/9">September</a><span class="count">2</span></li><li><a href="/archive/2013/10">October</a><span class="count">4</span></li><li><a href="/archive/2013/11">November</a><span class="count">2</span></li><li class="empty"><span>December</span></li></ul></nav></section><section id="year_2012" class="year" style="display:none"><header class="year_navigation"><a class="previous_year" href="#"><span>2011</span></a><span class="current_year">2012</span><a class="next_year" href="#"><span>2013</span></a><div class="clear"></div></header><nav class="months"><ul><li class="empty"><span>January</span></li><li class="empty"><span>February</span></li><li><a href="/archive/2012/3">March</a><span class="count">5</span></li><li><a href="/archive/2012/4">April</a><span class="count">1</span></li><li><a href="/archive/2012/5">May</a><span class="count">1</span></li><li><a href="/archive/2012/6">June</a><span class="count">2</span></li><li><a href="/archive/2012/7">July</a><span class="count">2</span></li><li><a href="/archive/2012/8">August</a><span class="count">1</span></li><li><a href="/archive/2012/9">September</a><span class="count">3</span></li><li><a href="/archive/2012/10">October</a><span class="count">3</span></li><li><a href="/archive/2012/11">November</a><span class="count">10</span></li><li><a href="/archive/2012/12">December</a><span class="count">4</span></li></ul></nav></section><section id="year_2011" class="year" style="display:none"><header class="year_navigation"><a class="previous_year" href="#"><span>2010</span></a><span class="current_year">2011</span><a class="next_year" href="#"><span>2012</span></a><div class="clear"></div></header><nav class="months"><ul><li class="empty"><span>January</span></li><li class="empty"><span>February</span></li><li class="empty"><span>March</span></li><li class="empty"><span>April</span></li><li class="empty"><span>May</span></li><li class="empty"><span>June</span></li><li class="empty"><span>July</span></li><li class="empty"><span>August</span></li><li class="empty"><span>September</span></li><li class="empty"><span>October</span></li><li class="empty"><span>November</span></li><li class="empty"><span>December</span></li></ul></nav></section><section id="year_2010" class="year" style="display:none"><header class="year_navigation"><div class="previous_year"><span></span></div><span class="current_year">2010</span><a class="next_year" href="#"><span>2011</span></a><div class="clear"></div></header><nav class="months"><ul><li class="empty"><span>January</span></li><li class="empty"><span>February</span></li><li class="empty"><span>March</span></li><li class="empty"><span>April</span></li><li class="empty"><span>May</span></li><li><a href="/archive/2010/6">June</a><span class="count">5</span></li><li class="empty"><span>July</span></li><li class="empty"><span>August</span></li><li class="empty"><span>September</span></li><li class="empty"><span>October</span></li><li class="empty"><span>November</span></li><li class="empty"><span>December</span></li></ul></nav></section></div></div></body></html>