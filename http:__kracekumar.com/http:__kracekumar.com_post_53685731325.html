<!DOCTYPE html>
<script>var __pbpa = true;</script><script>var translated_warning_string = 'Warning: Never enter your Tumblr password unless \u201chttps://www.tumblr.com/login\u201d\x0ais the address in your web browser.\x0a\x0aYou should also see a green \u201cTumblr, Inc.\u201d identification in the address bar.\x0a\x0aSpammers and other bad guys use fake forms to steal passwords.\x0a\x0aTumblr will never ask you to log in from a user\u2019s blog.\x0a\x0aAre you absolutely sure you want to continue?';</script><script type="text/javascript" language="javascript" src="http://assets.tumblr.com/assets/scripts/pre_tumblelog.js?_v=001b252f920c60cde4c95b898217994e"></script>
<!DOCTYPE html>
<html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">
    <meta charset="UTF-8">
    <title>cp command implementation and benchmark in python, go, lua - Random stream</title>
    <link rel="shortcut icon" href="http://31.media.tumblr.com/avatar_08684c9830f1_128.png">
	<link rel="alternate" type="application/rss+xml" href="http://kracekumar.com/rss">
    
    <meta name="description" content="cp command implementation and benchmark in python, go, lua I was wondering how much will be the speed difference between cp command, rsync and implementation in python, go, lua and so wrote this..." />
          
	<meta name="if:Show notes" content="1">
	<meta name="text:Disqus Shortname" content="" />
	<meta name="color:Link Color" content="#EB374B">
	<meta name="color:Link Hover" content="#05b2c2">
	<meta name="color:Post Background" content="#F2F2F2" />
	<link rel="stylesheet" href="http://static.tumblr.com/26l8vc7/X7wmf3p9v/style.css">
	<style type="text/css">
		.post, .cover{background: #F2F2F2;}
		a{color: #EB374B;}
		a:hover, #header h1 a:hover{color:#05b2c2;}
		.date p, .shadow{background: #EB374B;}
		 
	</style>
    <!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
mixpanel.init("4787390884cf94ee4ef5b161840cae15");mixpanel.track(document.title);
</script><!-- end Mixpanel -->

<!-- BEGIN TUMBLR FACEBOOK OPENGRAPH TAGS --><!-- If you'd like to specify your own Open Graph tags, define the og:url and og:title tags in your theme's HTML. --><!-- Read more: http://ogp.me/ --><meta property="fb:app_id" content="48119224995" /><meta property="og:site_name" content="Random stream" /><meta property="og:title" content="cp command implementation and benchmark in python, go, lua" /><meta property="og:url" content="http://kracekumar.com/post/53685731325/cp-command-implementation-and-benchmark-in-python-go" /><meta property="og:description" content="I was wondering how much will be the speed difference between cp command, rsync and implementation in python, go, lua and so wrote this code.
Background
&bull; python has two versions one with gevent and..." /><meta property="og:determiner" content="a" /><meta property="og:type" content="tumblr-feed:entry" /><meta property="og:image" content="http://assets.tumblr.com/images/og/text_200.png" /><!-- END TUMBLR FACEBOOK OPENGRAPH TAGS -->


<!-- TWITTER TAGS --><meta charset="utf-8"><meta name="twitter:card" content="summary" /><meta name="twitter:description" content="I was wondering how much will be the speed difference between cp command, rsync and implementation in python, go, lua and so wrote this code.

 Background

 python has two versions one with gevent and without gevent. Both the version uses shutil for copying files and directory tree.      
 go uses https://github.com/opesun/copyrecur for copying recursively.   
 lua uses lfs - LuaFileSystem module. lfs has support for creating directory but not for files, in order to copy the files low level file opening and writing to file technique is used.    
 rsync --progress -ah -R was also added to the test.   
 Code

 Directory chosen for the test has 28 repos which are basically python projects, go repos with git version control. Total size of the directory /Users/kracekumarramaraju/code is 300M(du -sh /Users/kracekumarramaraju/code) and destination is external disk which supports USB3.0.

 Python without gevent

import sys
import shutil


def cp(source, dest):    
    shutil.copytree(source, dest)


if __name__ == &quot;__main__&quot;:
    if len(sys.argv) != 3:
        print(&quot;Help&quot;)
        print(&quot;python cp.py source dest is the format&quot;)
        sys.exit(1)
    cp(sys.argv[1], sys.argv[2])


 Python with gevent support

import sys
import os
import shutil
import gevent


def cp(source, dest):
    shutil.copytree(source, dest)


def cpfile(source, dest):
    shutil.copy2(source, dest)


if __name__ == &quot;__main__&quot;:
    if len(sys.argv) != 3:
        print(&quot;Help&quot;)
        print(&quot;python cp.py source dest is the format&quot;)
        os.exit(1)
    source, dest = sys.argv[1], sys.argv[2]
    os.mkdir(dest)
    tasks = []
    for name in os.listdir(source):
        source_path, dest_path = os.path.join(source, name), os.path.join(dest, name)
        if os.path.isdir(source_path):
            tasks.append(gevent.spawn(cp, source_path, dest_path))
        else:
            tasks.append(gevent.spawn(cpfile, source_path, dest_path))
    gevent.joinall(tasks)


 go

package main

import (
    &quot;fmt&quot;
    &quot;github.com/opesun/copyrecur&quot;
    &quot;log&quot;
    &quot;os&quot;
)

func cp(source, dest string) {
    err := copyrecur.CopyDir(source, dest)
    if err != nil {
        log.Fatal(err)
    } else {
        log.Print(&quot;Files copied.&quot;)
    }
}

func main() {
    if len(os.Args) != 3 {
        fmt.Println(&quot;Syntax: go run cp.go source destination&quot;)
        os.Exit(1)
    }
    cp(os.Args[1], os.Args[2])
    fmt.Println(&quot;cp.go completed&quot;)
}


 lua

require &quot;lfs&quot;


function cp(source, dest)
    -- body
    for filename in lfs.dir(source) do
        if filename ~= &#039;.&#039; and filename ~= &#039;..&#039; then
            local source_path = source .. &#039;/&#039; .. filename
            local attr = lfs.attributes(source_path)
            --print(attr.mode, path)
            if type(attr) == &quot;table&quot; and attr.mode == &quot;directory&quot; then 
                local dest_path = dest .. &quot;/&quot; .. filename
                lfs.mkdir(dest_path)
                cp(source_path, dest_path)
            else
                local f = io.open(source_path, &quot;rb&quot;)
                local content = f:read(&quot;*all&quot;)
                f:close()
                local w = io.open(dest .. &quot;/&quot; .. filename, &quot;wb&quot;)
                w:write(content)
                w:close() 
            end
        end
    end
end

if #arg == 2 then
    cp(arg[1], arg[2])
else
    print(&quot;Syntax:&quot;)
    print(&quot;lua lua.go source dest&quot;)
end


 rsync --progress -ah -R. 
 Plain cp command.

 Tests

 Shell script to run the tests.

echo &quot;source directory size&quot;
du -sh /Users/kracekumarramaraju/code
echo &quot;cp.py - Python without gevent&quot;
time python cp.py /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/1
du -sh /Volumes/My\ Passport/test/1
echo &quot;cp-gevent.py - Python with gevent&quot;
time python cp-gevent.py /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/2
du -sh /Volumes/My\ Passport/test/2
echo &quot;alias cp=&#039;rsync --progress -ah&#039; - Rsync&quot;
time cp -R /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/3
du -sh /Volumes/My\ Passport/test/3
echo &quot;Plain cp command&quot;
time /bin/cp -R /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/4
du -sh /Volumes/My\ Passport/test/4
echo &quot;cp.go - cp in Go lang&quot;
time go run cp.go /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/5
du -sh /Volumes/My\ Passport/test/5
echo &quot;cp.lua - cp in lua&quot;
time lua cp.lua /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/6
du -sh /Volumes/My\ Passport/test/6


 Results

➜  cp-tests  ./test.sh
source directory size
300M    /Users/kracekumarramaraju/code
cp.py - Python without gevent

real    1m23.354s
user    0m1.818s
sys 0m5.032s
302M    /Volumes/My Passport/test/1
cp-gevent.py - Python with gevent

real    1m24.212s
user    0m1.772s
sys 0m4.748s
302M    /Volumes/My Passport/test/2
alias cp=&#039;rsync --progress -ah&#039; - Rsync

real    1m21.145s
user    0m0.230s
sys 0m5.172s
302M    /Volumes/My Passport/test/3
Plain cp command

real    1m24.065s
user    0m0.232s
sys 0m5.174s
302M    /Volumes/My Passport/test/4
cp.go - cp in Go lang
2013/06/23 21:04:38 Files copied.
cp.go completed

real    1m27.786s
user    0m1.106s
sys 0m3.369s
302M    /Volumes/My Passport/test/5
cp.lua - cp in lua

real    1m19.340s
user    0m1.905s
sys 0m3.893s
302M    /Volumes/My Passport/test/6


 Conclusion

 Surprisingly lua was fastest with 1m19.340s and next one was rsync with 1m21.145s.   
 Slowest one was go with 1m27.786s, I expected it to be faster than python gevent. Probably extra time was due to compiling go code. 
 Python non gevent version took 1m23.354s  and gevent version took 1m24.212s,  gevent version spent less time in user and system space. 
 cp command took 1m24.065s, which was second slowest.
 Since the test was basically I/O there ins&amp;#8217;t much difference in speed of all versions.
 Further work

 Benchmark 1GB single file transfer using lua and rsync.    
 Add all features of cp command to any one of the implementation and bench mark.
" /><meta name="twitter:title" content="cp command implementation and benchmark in python, go, lua" /><meta name="twitter:url" content="http://kracekumar.com/post/53685731325/cp-command-implementation-and-benchmark-in-python-go" /><meta name="twitter:site" content="tumblr" /><meta name="twitter:creator" content="kracetheking" /><meta name="twitter:app:name:iphone" content="Tumblr" /><meta name="twitter:app:name:ipad" content="Tumblr" /><meta name="twitter:app:name:googleplay" content="Tumblr" /><meta name="twitter:app:id:iphone" content="305343404" /><meta name="twitter:app:id:ipad" content="305343404" /><meta name="twitter:app:id:googleplay" content="com.tumblr" /><meta name="twitter:app:url:iphone" content="tumblr://x-callback-url/blog?blogName=kracekumar&amp;postID=53685731325&amp;referrer=twitter-cards" /><meta name="twitter:app:url:ipad" content="tumblr://x-callback-url/blog?blogName=kracekumar&amp;postID=53685731325&amp;referrer=twitter-cards" /><meta name="twitter:app:url:googleplay" content="tumblr://x-callback-url/blog?blogName=kracekumar&amp;postID=53685731325&amp;referrer=twitter-cards" />

<script src="http://assets.tumblr.com/assets/scripts/tumblelog.js?_v=5f870c646bc8380d871857a3aa781cf3"></script>
<meta http-equiv="x-dns-prefetch-control" content="off"/>
<meta name="keywords" content="lua,rsync,gevent,python,go-lang" />
</head>
<body>
	<div id="wrapper">
		<div id="header" role="banner">
			<h1><a href="/">Random stream</a></h1>
			
			
			<div id="description">
				<p>kracekumar - Geek</p>
			</div>
			
		</div>
		
		<div id="navigation">			
			<div class="wrapper">
				 
				<ul class="pages links" role="navigation">
					
					<li><a href="/aboutme">self.__intro__</a></li>
					
					<li><a href="/resume">Resume</a></li>
					                    
				</ul>
				
				
				<form id="search" role="search" action="/search" method="get">
					<input type="text" name="q" class="search" value="Search" onfocus="if(this.value == this.defaultValue) this.value = ''" onblur="if(!this.value) this.value = this.defaultValue" />
				</form>
			</div>
		</div>
		
		<div id="content" role="main">
    		
    
    
    
    
			
			
					
					<div class="post text">
						 
						<div class="date">
							<p><span class="day">23</span> 6 / 2013</p>
						</div>
						
						
						<div class="content">
							
							<h2 class="link"><a href="http://kracekumar.com/post/53685731325/cp-command-implementation-and-benchmark-in-python-go">cp command implementation and benchmark in python, go, lua</a></h2>
							
		
							<p>I was wondering how much will be the speed difference between <code>cp</code> command, <code>rsync</code> and implementation in <code>python</code>, <code>go</code>, <code>lua</code> and so wrote this <a href="https://github.com/kracekumar/cp-tests" target="_blank">code</a>.</p>

<p><em>Background</em></p>

<ol><li><code>python</code> has two versions one with <code>gevent</code> and without <code>gevent</code>. Both the version uses <code>shutil</code> for copying files and directory tree.      </li>
<li><code>go</code> uses <a href="https://github.com/opesun/copyrecur" target="_blank">https://github.com/opesun/copyrecur</a> for copying recursively.   </li>
<li><code>lua</code> uses <code>lfs - LuaFileSystem</code> module. <code>lfs</code> has support for creating directory but not for files, in order to copy the files low level file opening and writing to file technique is used.    </li>
<li><code>rsync --progress -ah -R</code> was also added to the test.   </li>
</ol><p><em>Code</em></p>

<p>Directory chosen for the test has <code>28</code> repos which are basically python projects, go repos with git version control. Total size of the directory <code>/Users/kracekumarramaraju/code</code> is <code>300M</code>(du -sh /Users/kracekumarramaraju/code) and destination is external disk which supports <code>USB3.0</code>.</p>

<p><code>Python without gevent</code></p>

<pre><code>import sys
import shutil


def cp(source, dest):    
    shutil.copytree(source, dest)


if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Help")
        print("python cp.py source dest is the format")
        sys.exit(1)
    cp(sys.argv[1], sys.argv[2])
</code></pre>

<p><code>Python with gevent support</code></p>

<pre><code>import sys
import os
import shutil
import gevent


def cp(source, dest):
    shutil.copytree(source, dest)


def cpfile(source, dest):
    shutil.copy2(source, dest)


if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Help")
        print("python cp.py source dest is the format")
        os.exit(1)
    source, dest = sys.argv[1], sys.argv[2]
    os.mkdir(dest)
    tasks = []
    for name in os.listdir(source):
        source_path, dest_path = os.path.join(source, name), os.path.join(dest, name)
        if os.path.isdir(source_path):
            tasks.append(gevent.spawn(cp, source_path, dest_path))
        else:
            tasks.append(gevent.spawn(cpfile, source_path, dest_path))
    gevent.joinall(tasks)
</code></pre>

<p><code>go</code></p>

<pre><code>package main

import (
    "fmt"
    "github.com/opesun/copyrecur"
    "log"
    "os"
)

func cp(source, dest string) {
    err := copyrecur.CopyDir(source, dest)
    if err != nil {
        log.Fatal(err)
    } else {
        log.Print("Files copied.")
    }
}

func main() {
    if len(os.Args) != 3 {
        fmt.Println("Syntax: go run cp.go source destination")
        os.Exit(1)
    }
    cp(os.Args[1], os.Args[2])
    fmt.Println("cp.go completed")
}
</code></pre>

<p><code>lua</code></p>

<pre><code>require "lfs"


function cp(source, dest)
    -- body
    for filename in lfs.dir(source) do
        if filename ~= '.' and filename ~= '..' then
            local source_path = source .. '/' .. filename
            local attr = lfs.attributes(source_path)
            --print(attr.mode, path)
            if type(attr) == "table" and attr.mode == "directory" then 
                local dest_path = dest .. "/" .. filename
                lfs.mkdir(dest_path)
                cp(source_path, dest_path)
            else
                local f = io.open(source_path, "rb")
                local content = f:read("*all")
                f:close()
                local w = io.open(dest .. "/" .. filename, "wb")
                w:write(content)
                w:close() 
            end
        end
    end
end

if #arg == 2 then
    cp(arg[1], arg[2])
else
    print("Syntax:")
    print("lua lua.go source dest")
end
</code></pre>

<p><code>rsync --progress -ah -R</code>.<br/>
 Plain <code>cp</code> command.</p>

<p><em>Tests</em></p>

<p>Shell <a href="https://github.com/kracekumar/cp-tests/blob/master/test.sh" target="_blank">script</a> to run the tests.</p>

<pre><code>echo "source directory size"
du -sh /Users/kracekumarramaraju/code
echo "cp.py - Python without gevent"
time python cp.py /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/1
du -sh /Volumes/My\ Passport/test/1
echo "cp-gevent.py - Python with gevent"
time python cp-gevent.py /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/2
du -sh /Volumes/My\ Passport/test/2
echo "alias cp='rsync --progress -ah' - Rsync"
time cp -R /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/3
du -sh /Volumes/My\ Passport/test/3
echo "Plain cp command"
time /bin/cp -R /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/4
du -sh /Volumes/My\ Passport/test/4
echo "cp.go - cp in Go lang"
time go run cp.go /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/5
du -sh /Volumes/My\ Passport/test/5
echo "cp.lua - cp in lua"
time lua cp.lua /Users/kracekumarramaraju/code /Volumes/My\ Passport/test/6
du -sh /Volumes/My\ Passport/test/6
</code></pre>

<p><em>Results</em></p>

<pre><code>➜  cp-tests  ./test.sh
source directory size
300M    /Users/kracekumarramaraju/code
cp.py - Python without gevent

real    1m23.354s
user    0m1.818s
sys 0m5.032s
302M    /Volumes/My Passport/test/1
cp-gevent.py - Python with gevent

real    1m24.212s
user    0m1.772s
sys 0m4.748s
302M    /Volumes/My Passport/test/2
alias cp='rsync --progress -ah' - Rsync

real    1m21.145s
user    0m0.230s
sys 0m5.172s
302M    /Volumes/My Passport/test/3
Plain cp command

real    1m24.065s
user    0m0.232s
sys 0m5.174s
302M    /Volumes/My Passport/test/4
cp.go - cp in Go lang
2013/06/23 21:04:38 Files copied.
cp.go completed

real    1m27.786s
user    0m1.106s
sys 0m3.369s
302M    /Volumes/My Passport/test/5
cp.lua - cp in lua

real    1m19.340s
user    0m1.905s
sys 0m3.893s
302M    /Volumes/My Passport/test/6
</code></pre>

<p><em>Conclusion</em></p>

<ol><li>Surprisingly <code>lua</code> was fastest with <code>1m19.340s</code> and next one was <code>rsync</code> with <code>1m21.145s</code>.   </li>
<li>Slowest one was <code>go</code> with <code>1m27.786s</code>, I expected it to be faster than <code>python gevent</code>. Probably extra time was due to compiling go code. </li>
<li><code>Python</code> non <code>gevent</code> version took <code>1m23.354s</code>  and <code>gevent</code> version took <code>1m24.212s</code>,  <code>gevent</code> version spent less time in <code>user</code> and <code>system</code> space. </li>
<li><code>cp</code> command took <code>1m24.065s</code>, which was second slowest.</li>
<li>Since the test was basically I/O there ins&#8217;t much difference in speed of all versions.</li>
</ol><p><em>Further work</em></p>

<ol><li>Benchmark 1GB single file transfer using <code>lua</code> and <code>rsync</code>.    </li>
<li>Add all features of cp command to any one of the implementation and bench mark.</li>
</ol>
						</div>
						
						<div class="info">							
							 
								<div>
									<p class="tags-label">Tags:</p>
									<ul class="tags">
										<li><a href="http://kracekumar.com/tagged/cp">cp</a></li><li><a href="http://kracekumar.com/tagged/go-lang">go-lang</a></li><li><a href="http://kracekumar.com/tagged/python">python</a></li><li><a href="http://kracekumar.com/tagged/gevent">gevent</a></li><li><a href="http://kracekumar.com/tagged/lua">lua</a></li><li><a href="http://kracekumar.com/tagged/rsync">rsync</a></li>
									</ul>
								</div>
							
							<p><a href="http://kracekumar.com/post/53685731325/cp-command-implementation-and-benchmark-in-python-go">Permalink</a> <a href="http://kracekumar.com/post/53685731325/cp-command-implementation-and-benchmark-in-python-go#notes"><span class="notes">2 notes</span></a> <span style="float: right;"><a class="dsq-comment-count" href="http://kracekumar.com/post/53685731325/cp-command-implementation-and-benchmark-in-python-go#disqus_thread"></a></span></p>
						</div>
						 
						<!--[if IE]><div class="date-shadow ie-rotate"><![endif]-->
						<!--[if !IE]><!--><div class="date-shadow"><!--<![endif]-->
							<span class="cover"></span>
							<span class="shadow"></span>
							<span class="darker"></span>
						</div>
						
					</div>
					

					
					
					
					
					

					
					
					
					
					
					

		
		
		
		
		
					

					
					
					
					

					
					
					
					
					

					
					
					
					
					
					

					
					
					
					
					


            
                
                    <div class="notecontainer">                    	
                    	
                        <div id="disqus_thread"></div>
                        <script type="text/javascript" src="http://disqus.com/forums/oolai/embed.js"></script>
                        <noscript><a href="http://oolai.disqus.com/?url=ref">View the discussion thread</a></noscript>
                        
                        
                        <div id="notes">
                        	<div class="notes">
                        		<ol class="notes"><!-- START NOTES --><li class="note like tumblelog_shonelikethesun without_commentary"><a rel="nofollow" class="avatar_frame" target="_blank" href="http://shonelikethesun.tumblr.com/" title="Shone Like the Sun " rel="nofollow"><img src="http://31.media.tumblr.com/avatar_7329fad5e8c3_16.png" class="avatar " alt="" /></a><span class="action"><a rel="nofollow" href="http://shonelikethesun.tumblr.com/" title="Shone Like the Sun" rel="nofollow">shonelikethesun</a> likes this</span><div class="clear"></div></li><li class="note like tumblelog_jmsdnns without_commentary"><a rel="nofollow" class="avatar_frame" target="_blank" href="http://jmsdnns.tumblr.com/" title="Jms Dnns " rel="nofollow"><img src="http://24.media.tumblr.com/avatar_4dae874b6d56_16.png" class="avatar " alt="" /></a><span class="action"><a rel="nofollow" href="http://jmsdnns.tumblr.com/" title="Jms Dnns" rel="nofollow">jmsdnns</a> likes this</span><div class="clear"></div></li><li class="note reblog tumblelog_kracekumar original_post without_commentary"><a rel="nofollow" class="avatar_frame" target="_blank" href="http://kracekumar.com/" title="Random stream"><img src="http://25.media.tumblr.com/avatar_08684c9830f1_16.png" class="avatar " alt="" /></a><span class="action" data-post-url="http://kracekumar.com/post/53685731325"><a rel="nofollow" href="http://kracekumar.com/" class="tumblelog" title="Random stream">kracekumar</a> posted this</span><div class="clear"></div></li><!-- END NOTES --></ol>

                        	</div>
                        </div>
                    </div>
                
            
			
						
			
			
			
			
			
			
			
			<div id="pagination" role="navigation">
				<p>																										
					
					<a href="http://kracekumar.com/post/54437887454" class="newer">Next post &raquo;</a>
					
					
					
					<a href="http://kracekumar.com/post/53582319439" class="older">&laquo; Previous post</a>
					
				</p>
			</div>
			
		</div>				
	</div>

	
	<div id="footer">
		<div class="wrapper">
			<ul class="links" role="navigation">
				<li><a href="/archive">Archive</a></li>
				
                <li><a href="/ask">Ask me anything</a></li>
                
				<li><a href="http://kracekumar.com/rss">RSS</a></li>
			</ul>
			<p class="info-theme" role="contentinfo">Powered by <a href="http://www.tumblr.com">Tumblr</a> and designed by <a href="http://kcmr.tumblr.com">Kcmr</a>.</p>
		</div>
	</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28499341-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    
        <script>
            (function() {
                var links = document.getElementsByTagName('a');
                var query = '?';
                for(var i = 0; i < links.length; i++) {
                    if(links[i].href.indexOf('#disqus_thread') >= 0) {
                        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
                    }
                }
                document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/oolai/get_num_replies.js' + query + '"></' + 'script>');
            })();
        </script>
    
<!-- BEGIN TUMBLR CODE --><iframe id="tumblr_controls" width="1" height="1" frameborder="0" scrolling="no" style="position:absolute; z-index:2147483647; top:0; right:0; border:0; background-color:transparent; overflow:hidden; " src="http://assets.tumblr.com/assets/html/iframe/o.html?_v=7f3ccc52344f6f4db744590e355db381#src=http%3A%2F%2Fkracekumar.com%2Fpost%2F53685731325%2Fcp-command-implementation-and-benchmark-in-python-go&amp;pid=53685731325&amp;rk=M8TLbSC2&amp;lang=en_US&amp;name=kracekumar&amp;avatar=http%3A%2F%2F31.media.tumblr.com%2Favatar_08684c9830f1_64.png&amp;title=Random+stream&amp;url=http%3A%2F%2Fkracekumar.com%2F&amp;page_slide=slide"></iframe><div id="teaser_iframe_container" style="display:none;"><iframe scrolling="no" frameborder="0" src="http://www.tumblr.com/assets/html/iframe/teaser.html#src=http%3A%2F%2Fkracekumar.com%2Fpost%2F53685731325%2Fcp-command-implementation-and-benchmark-in-python-go&amp;pid=53685731325&amp;rk=M8TLbSC2&amp;lang=en_US&amp;name=kracekumar&amp;avatar=http%3A%2F%2F31.media.tumblr.com%2Favatar_08684c9830f1_64.png&amp;title=Random+stream&amp;url=http%3A%2F%2Fkracekumar.com%2F&amp;page_slide=slide" id="teaser_iframe" width="1" height="1"></iframe></div><script type="text/javascript">
    (function(Tumblr){
        var follow_iframe_initialized = false;
        if (Tumblr.FollowTeaser && Tumblr.PostMessageListener) {
            // Don't do anything until the first initialize event
            Tumblr.PostMessageListener.initialize(function(message, origin) {
                if (follow_iframe_initialized || message.length < 2) return;

                if (message[0] === 'follow_iframe' && message[1] === 'enable') {
                    Tumblr.FollowTeaser.current_page = 1;
                    Tumblr.FollowTeaser.infer_infinite_scroll = true;
                    Tumblr.FollowTeaser.create_from_tumblr_controls("http:\/\/assets.tumblr.com\/assets\/html\/iframe\/follow.html?_v=5e68f8079f31e083bf6f7ba6a7b4a52a");
                    Tumblr.FollowTeaser.scroll_listener(true);
                    follow_iframe_initialized = true;
                }
            });
        }
    })(this.Tumblr || (this.Tumblr = {}));
</script><!--[if IE]><script type="text/javascript">document.getElementById('tumblr_controls').allowTransparency=true;</script><![endif]--><iframe onload="javascript:this.contentWindow.postMessage(['tick_google_analytics', '/post/53685731325/cp-command-implementation-and-benchmark-in-python-go?route=%2Fpost%2F%3Aid%2F%3Asummary'].join(';'), this.src.split('/analytics.html')[0]);  COMSCORE = true;this.contentWindow.postMessage('enable_comscore;' + window.location, this.src.split('/analytics.html')[0]);" src="http://assets.tumblr.com/analytics.html?dfe9b9d3e783ff1f12fd8ce1b733bdc0" scrolling="no" width="1" height="1" frameborder="0" style="background-color:transparent; overflow:hidden; position:absolute; top:0; left:0 z-index:9999;" id="ga_target"></iframe><script type="text/javascript">
      var _qevents = _qevents || [];

      (function() {
       var elem = document.createElement('script');

       elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
       elem.async = true;
       elem.type = "text/javascript";
       var scpt = document.getElementsByTagName('script')[0];
       scpt.parentNode.insertBefore(elem, scpt);
      })();
    </script><script type="text/javascript">
        _qevents.push( { qacct: 'p-19UtqE8ngoZbM' } );
    </script><noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/'p-19UtqE8ngoZbM'.gif" height="1" width="1" alt="Quantcast"/></div></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1386439693&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wva3JhY2VrdW1hci5jb21cL3Bvc3RcLzUzNjg1NzMxMzI1XC9jcC1jb21tYW5kLWltcGxlbWVudGF0aW9uLWFuZC1iZW5jaG1hcmstaW4tcHl0aG9uLWdvIiwicmVxdHlwZSI6MCwicm91dGUiOiJcL3Bvc3RcLzppZFwvOnN1bW1hcnkifQ==&U=IMLCKKDBOP&K=9b8830df856b76b8864391d3828ed158c6ef179375ed334336701183db2a609a&R='.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1386439693&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wva3JhY2VrdW1hci5jb21cL3Bvc3RcLzUzNjg1NzMxMzI1XC9jcC1jb21tYW5kLWltcGxlbWVudGF0aW9uLWFuZC1iZW5jaG1hcmstaW4tcHl0aG9uLWdvIiwicmVxdHlwZSI6MCwicm91dGUiOiJcL3Bvc3RcLzppZFwvOnN1bW1hcnkiLCJub3NjcmlwdCI6MX0=&U=IMLCKKDBOP&K=5461291dba21dcd523cac01648ccf2ae6efbb5bb4c7694776d2126a066037dd3&R="></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1386439693&J=eyJ0eXBlIjoicG9zdCIsInVybCI6Imh0dHA6XC9cL2tyYWNla3VtYXIuY29tXC9wb3N0XC81MzY4NTczMTMyNVwvY3AtY29tbWFuZC1pbXBsZW1lbnRhdGlvbi1hbmQtYmVuY2htYXJrLWluLXB5dGhvbi1nbyIsInJlcXR5cGUiOjAsInJvdXRlIjoiXC9wb3N0XC86aWRcLzpzdW1tYXJ5IiwicG9zdHMiOlt7InBvc3RpZCI6IjUzNjg1NzMxMzI1IiwiYmxvZ2lkIjoiNTY1MTEwOCIsInNvdXJjZSI6MzN9XX0=&U=NIODEPCNGF&K=c33d9fcc1760191df47cbf4f726285f8570ebfaab15811ab31a213a41cfda4da&R='.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1386439693&J=eyJ0eXBlIjoicG9zdCIsInVybCI6Imh0dHA6XC9cL2tyYWNla3VtYXIuY29tXC9wb3N0XC81MzY4NTczMTMyNVwvY3AtY29tbWFuZC1pbXBsZW1lbnRhdGlvbi1hbmQtYmVuY2htYXJrLWluLXB5dGhvbi1nbyIsInJlcXR5cGUiOjAsInJvdXRlIjoiXC9wb3N0XC86aWRcLzpzdW1tYXJ5IiwicG9zdHMiOlt7InBvc3RpZCI6IjUzNjg1NzMxMzI1IiwiYmxvZ2lkIjoiNTY1MTEwOCIsInNvdXJjZSI6MzN9XSwibm9zY3JpcHQiOjF9&U=NIODEPCNGF&K=6e783b907c7430da0e7ecfa8aabc9cf4eb84b7b1faa312eb2615574653bc0f5f&R="></noscript><script type="text/javascript" src="http://l.yimg.com/ss/rapid-3.9.js"></script><script>
                    (function(YAHOO) {
                        if (YAHOO) {
                            YAHOO.i13n.beacon_server = 'nol.yahoo.com';
                            var keys = { pd:'/post/:id/:summary', _li:0, i_rad:0, i_strm:0 };
                            YAHOO.rapid = new YAHOO.i13n.Rapid({spaceid:1197719230, oo:1, client_only:1, yql_enabled:false, keys:keys});
                        }
                    })(window.YAHOO);
                </script><!-- END TUMBLR CODE -->

</body>
</html>