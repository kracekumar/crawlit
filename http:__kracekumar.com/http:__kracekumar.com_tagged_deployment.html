<!DOCTYPE html>
<script>var __pbpa = true;</script><script>var translated_warning_string = 'Warning: Never enter your Tumblr password unless \u201chttps://www.tumblr.com/login\u201d\x0ais the address in your web browser.\x0a\x0aYou should also see a green \u201cTumblr, Inc.\u201d identification in the address bar.\x0a\x0aSpammers and other bad guys use fake forms to steal passwords.\x0a\x0aTumblr will never ask you to log in from a user\u2019s blog.\x0a\x0aAre you absolutely sure you want to continue?';</script><script type="text/javascript" language="javascript" src="http://assets.tumblr.com/assets/scripts/pre_tumblelog.js?_v=001b252f920c60cde4c95b898217994e"></script>
<!DOCTYPE html>
<html>
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# blog: http://ogp.me/ns/blog#">
    <meta charset="UTF-8">
    <title>Random stream</title>
    <link rel="shortcut icon" href="http://31.media.tumblr.com/avatar_08684c9830f1_128.png">
	<link rel="alternate" type="application/rss+xml" href="http://kracekumar.com/rss">
    
    <meta name="description" content="" />
          
	<meta name="if:Show notes" content="1">
	<meta name="text:Disqus Shortname" content="" />
	<meta name="color:Link Color" content="#EB374B">
	<meta name="color:Link Hover" content="#05b2c2">
	<meta name="color:Post Background" content="#F2F2F2" />
	<link rel="stylesheet" href="http://static.tumblr.com/26l8vc7/X7wmf3p9v/style.css">
	<style type="text/css">
		.post, .cover{background: #F2F2F2;}
		a{color: #EB374B;}
		a:hover, #header h1 a:hover{color:#05b2c2;}
		.date p, .shadow{background: #EB374B;}
		 
	</style>
    <!-- start Mixpanel --><script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
mixpanel.init("4787390884cf94ee4ef5b161840cae15");mixpanel.track(document.title);
</script><!-- end Mixpanel -->

<!-- BEGIN TUMBLR FACEBOOK OPENGRAPH TAGS --><!-- If you'd like to specify your own Open Graph tags, define the og:url and og:title tags in your theme's HTML. --><!-- Read more: http://ogp.me/ --><meta property="fb:app_id" content="48119224995" /><meta property="og:title" content="Random stream" /><meta property="og:url" content="http://kracekumar.com/?og=1" /><meta property="og:description" content="kracekumar - Geek" /><meta property="og:type" content="tumblr-feed:tumblelog" /><meta property="og:image" content="http://31.media.tumblr.com/avatar_08684c9830f1_128.png" /><!-- END TUMBLR FACEBOOK OPENGRAPH TAGS -->


<!-- TWITTER TAGS --><meta charset="utf-8"><meta name="twitter:site" content="tumblr" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="kracekumar" /><meta name="twitter:description" content="kracekumar - Geek" /><meta name="twitter:creator" content="kracetheking" /><meta name="twitter:app:name:iphone" content="Tumblr" /><meta name="twitter:app:name:ipad" content="Tumblr" /><meta name="twitter:app:name:googleplay" content="Tumblr" /><meta name="twitter:app:id:iphone" content="305343404" /><meta name="twitter:app:id:ipad" content="305343404" /><meta name="twitter:app:id:googleplay" content="com.tumblr" /><meta name="twitter:app:url:iphone" content="tumblr://x-callback-url/blog?blogName=kracekumar&amp;referrer=twitter-cards" /><meta name="twitter:app:url:ipad" content="tumblr://x-callback-url/blog?blogName=kracekumar&amp;referrer=twitter-cards" /><meta name="twitter:app:url:googleplay" content="tumblr://x-callback-url/blog?blogName=kracekumar&amp;referrer=twitter-cards" />

<script src="http://assets.tumblr.com/assets/scripts/tumblelog.js?_v=5f870c646bc8380d871857a3aa781cf3"></script>
<meta http-equiv="x-dns-prefetch-control" content="off"/>
<meta name="keywords" content="deployment,python,pypy" />
</head>
<body>
	<div id="wrapper">
		<div id="header" role="banner">
			<h1><a href="/">Random stream</a></h1>
			
			
			<div id="description">
				<p>kracekumar - Geek</p>
			</div>
			
		</div>
		
		<div id="navigation">			
			<div class="wrapper">
				 
				<ul class="pages links" role="navigation">
					
					<li><a href="/aboutme">self.__intro__</a></li>
					
					<li><a href="/resume">Resume</a></li>
					                    
				</ul>
				
				
				<form id="search" role="search" action="/search" method="get">
					<input type="text" name="q" class="search" value="Search" onfocus="if(this.value == this.defaultValue) this.value = ''" onblur="if(!this.value) this.value = this.defaultValue" />
				</form>
			</div>
		</div>
		
		<div id="content" role="main">
    		
    
    
    
    
			
			
					
					<div class="post text">
						 
						<div class="date">
							<p><span class="day">26</span> 11 / 2012</p>
						</div>
						
						
						<div class="content">
							
							<h2 class="link"><a href="http://kracekumar.com/post/36532666649/can-pypy-be-used-for-web-application-deployment">Can PyPy be used for web application deployment&#160;?</a></h2>
							
		
							<h2>What is PyPy&#160;?</h2>

<ul><li>PyPy is an implementation of Python in Python which uses JIT(Just In Time) translation. </li>
</ul><h2>Why to Use PyPy?</h2>

<ul><li>According to <a href="http://speed.python.org" target="_blank">benchmarks</a> &#8220;It depends greatly on the type of task being performed. The geometric average of all benchmarks is 0.18 or 5.6 times faster than CPython&#8221;.</li>
</ul><h2>Experience?</h2>

<p>I have used PyPy for sandboxing for my project <a href="http://github.com/kracekumar/pylive" target="_blank">pylive</a>, tested flask with pypy, ported brubeck to work on <a href="https://github.com/kracekumar/brubeck/blob/pypy/pypy.md" target="_blank">pypy</a>, tested <a href="https://github.com/hasgeek/lastuser" target="_blank">lastuser</a> in PyPy 2.0beta1. In the experiment <code>pypy-sandbox, requests, flask, werkzeug, jinja2, SQLAlchemy(postgres + sqlite), cython, greenlet, eventlet, markdown, gunicorn, dictshield, json, zmq</code> was tested.</p>

<p>If the library depends on C extensions more likely it needs rewrite using <a href="http://cffi.readthedocs.org/en/latest/" target="_blank">cffi</a>. Here is the bummer, so you can&#8217;t use your <code>requirements.txt</code> to directly deploy with <code>PyPy</code>. For an example: <code>pyzmq</code> library is written in C. So you can&#8217;t run in PyPy, so one needs to use <a href="https://github.com/felipecruz/zmqpy" target="_blank">zmqpy</a>, <a href="https://github.com/svpcom/pyzmq-ctypes" target="_blank">pyzmq</a>.</p>

<h2>Benchmarks</h2>

<p><a href="https://gist.github.com/4137006" target="_blank">Benchmark</a> of <code>brubeck</code> after porting shows <code>PyPy</code> din&#8217;t boost performance. This could be due to following reasons.</p>

<ol><li><p><code>gevent</code> doesn&#8217;t run on PyPy yet. :-(</p></li>
<li><p><code>zmq</code> library blocks, <code>eventlet</code> support for zmq is <a href="https://github.com/nanonyme/eventlet-pypy/issues/1" target="_blank">buggy</a>.</p></li>
<li><p><code>ujson</code> vs <code>PyPy</code> in built <code>json</code> performance.</p></li>
</ol><h2>Does any one use PyPy in production</h2>

<ol><li><p><a href="http://www.quora.com/Alex-Gaynor/Posts/Quora-is-now-running-on-PyPy" target="_blank">Quora runs on pypy</a> but no updates recently.</p></li>
<li><p>Twisted site run on PyPy.</p></li>
<li><p>There is a scientfic telescope project that runs on pypy(couldn&#8217;t locate the link).</p></li>
</ol><h2>My take</h2>

<ol><li><p><code>Postgres driver</code> runs without any issues, happy for that.</p></li>
<li><p>Waiting for <code>gevent</code> to support, after that there will be significant progress in speed of brubeck and adoption.</p></li>
<li><p>All my personal projects will be tested against pypy. Yes hopes are becoming true.</p></li>
</ol>
						</div>
						
						<div class="info">							
							 
								<div>
									<p class="tags-label">Tags:</p>
									<ul class="tags">
										<li><a href="http://kracekumar.com/tagged/pypy">pypy</a></li><li><a href="http://kracekumar.com/tagged/python">python</a></li><li><a href="http://kracekumar.com/tagged/deployment">deployment</a></li>
									</ul>
								</div>
							
							<p><a href="http://kracekumar.com/post/36532666649/can-pypy-be-used-for-web-application-deployment">Permalink</a>  <span style="float: right;"><a class="dsq-comment-count" href="http://kracekumar.com/post/36532666649/can-pypy-be-used-for-web-application-deployment#disqus_thread"></a></span></p>
						</div>
						 
						<!--[if IE]><div class="date-shadow ie-rotate"><![endif]-->
						<!--[if !IE]><!--><div class="date-shadow"><!--<![endif]-->
							<span class="cover"></span>
							<span class="shadow"></span>
							<span class="darker"></span>
						</div>
						
					</div>
					

					
					
					
					
					

					
					
					
					
					
					

		
		
		
		
		
					

					
					
					
					

					
					
					
					
					

					
					
					
					
					
					

					
					
					
					
					


            
                
            
			
						
			
			
			
			
			
			
			
		</div>				
	</div>

	
	<div id="footer">
		<div class="wrapper">
			<ul class="links" role="navigation">
				<li><a href="/archive">Archive</a></li>
				
                <li><a href="/ask">Ask me anything</a></li>
                
				<li><a href="http://kracekumar.com/rss">RSS</a></li>
			</ul>
			<p class="info-theme" role="contentinfo">Powered by <a href="http://www.tumblr.com">Tumblr</a> and designed by <a href="http://kcmr.tumblr.com">Kcmr</a>.</p>
		</div>
	</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28499341-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    
        <script>
            (function() {
                var links = document.getElementsByTagName('a');
                var query = '?';
                for(var i = 0; i < links.length; i++) {
                    if(links[i].href.indexOf('#disqus_thread') >= 0) {
                        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
                    }
                }
                document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/oolai/get_num_replies.js' + query + '"></' + 'script>');
            })();
        </script>
    
<!-- BEGIN TUMBLR CODE --><iframe id="tumblr_controls" width="1" height="1" frameborder="0" scrolling="no" style="position:absolute; z-index:2147483647; top:0; right:0; border:0; background-color:transparent; overflow:hidden; " src="http://assets.tumblr.com/assets/html/iframe/o.html?_v=7f3ccc52344f6f4db744590e355db381#src=http%3A%2F%2Fkracekumar.com%2Ftagged%2Fdeployment&amp;lang=en_US&amp;name=kracekumar&amp;avatar=http%3A%2F%2F31.media.tumblr.com%2Favatar_08684c9830f1_64.png&amp;title=Random+stream&amp;url=http%3A%2F%2Fkracekumar.com%2F&amp;page_slide=slide"></iframe><div id="teaser_iframe_container" style="display:none;"><iframe scrolling="no" frameborder="0" src="http://www.tumblr.com/assets/html/iframe/teaser.html#src=http%3A%2F%2Fkracekumar.com%2Ftagged%2Fdeployment&amp;lang=en_US&amp;name=kracekumar&amp;avatar=http%3A%2F%2F31.media.tumblr.com%2Favatar_08684c9830f1_64.png&amp;title=Random+stream&amp;url=http%3A%2F%2Fkracekumar.com%2F&amp;page_slide=slide" id="teaser_iframe" width="1" height="1"></iframe></div><script type="text/javascript">
    (function(Tumblr){
        var follow_iframe_initialized = false;
        if (Tumblr.FollowTeaser && Tumblr.PostMessageListener) {
            // Don't do anything until the first initialize event
            Tumblr.PostMessageListener.initialize(function(message, origin) {
                if (follow_iframe_initialized || message.length < 2) return;

                if (message[0] === 'follow_iframe' && message[1] === 'enable') {
                    Tumblr.FollowTeaser.current_page = 1;
                    Tumblr.FollowTeaser.infer_infinite_scroll = true;
                    Tumblr.FollowTeaser.create_from_tumblr_controls("http:\/\/assets.tumblr.com\/assets\/html\/iframe\/follow.html?_v=5e68f8079f31e083bf6f7ba6a7b4a52a");
                    Tumblr.FollowTeaser.scroll_listener(true);
                    follow_iframe_initialized = true;
                }
            });
        }
    })(this.Tumblr || (this.Tumblr = {}));
</script><!--[if IE]><script type="text/javascript">document.getElementById('tumblr_controls').allowTransparency=true;</script><![endif]--><iframe onload="javascript:this.contentWindow.postMessage(['tick_google_analytics', '/tagged/deployment?route=%2Ftagged%2F%3Atag'].join(';'), this.src.split('/analytics.html')[0]);  COMSCORE = true;this.contentWindow.postMessage('enable_comscore;' + window.location, this.src.split('/analytics.html')[0]);" src="http://assets.tumblr.com/analytics.html?dfe9b9d3e783ff1f12fd8ce1b733bdc0" scrolling="no" width="1" height="1" frameborder="0" style="background-color:transparent; overflow:hidden; position:absolute; top:0; left:0 z-index:9999;" id="ga_target"></iframe><script type="text/javascript">
      var _qevents = _qevents || [];

      (function() {
       var elem = document.createElement('script');

       elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
       elem.async = true;
       elem.type = "text/javascript";
       var scpt = document.getElementsByTagName('script')[0];
       scpt.parentNode.insertBefore(elem, scpt);
      })();
    </script><script type="text/javascript">
        _qevents.push( { qacct: 'p-19UtqE8ngoZbM' } );
    </script><noscript><div style="display: none;"><img src="//pixel.quantserve.com/pixel/'p-19UtqE8ngoZbM'.gif" height="1" width="1" alt="Quantcast"/></div></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1386439943&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wva3JhY2VrdW1hci5jb21cL3RhZ2dlZFwvZGVwbG95bWVudCIsInJlcXR5cGUiOjAsInJvdXRlIjoiXC90YWdnZWRcLzp0YWcifQ==&U=DHOKHBNPBJ&K=ea5ee196e9461d4b1a940a5be526f821b5db06a1ce47607b257295321f62e4e1&R='.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1386439943&J=eyJ0eXBlIjoidXJsIiwidXJsIjoiaHR0cDpcL1wva3JhY2VrdW1hci5jb21cL3RhZ2dlZFwvZGVwbG95bWVudCIsInJlcXR5cGUiOjAsInJvdXRlIjoiXC90YWdnZWRcLzp0YWciLCJub3NjcmlwdCI6MX0=&U=DHOKHBNPBJ&K=cd73ff775ed83e8a19f7d663d2c5a6b2522e9faf803bf6038040b1293fce7a14&R="></noscript><script type="text/javascript">!function(s){s.src='http://www.tumblr.com/impixu?T=1386439943&J=eyJ0eXBlIjoicG9zdCIsInVybCI6Imh0dHA6XC9cL2tyYWNla3VtYXIuY29tXC90YWdnZWRcL2RlcGxveW1lbnQiLCJyZXF0eXBlIjowLCJyb3V0ZSI6IlwvdGFnZ2VkXC86dGFnIiwicG9zdHMiOlt7InBvc3RpZCI6IjM2NTMyNjY2NjQ5IiwiYmxvZ2lkIjoiNTY1MTEwOCIsInNvdXJjZSI6MzN9XX0=&U=IOOAFBNANH&K=5014f74e8cd1132b7863f7aa6f83d75879c8fc7496a3ef103e857b7fb8e0ca76&R='.replace(/&R=[^&$]*/,'').concat('&R='+escape(document.referrer)).slice(0,2000).replace(/%.?.?$/,'');}(new Image());</script><noscript><img style="position:absolute;z-index:-3334;top:0px;left:0px;visibility:hidden;" src="http://www.tumblr.com/impixu?T=1386439943&J=eyJ0eXBlIjoicG9zdCIsInVybCI6Imh0dHA6XC9cL2tyYWNla3VtYXIuY29tXC90YWdnZWRcL2RlcGxveW1lbnQiLCJyZXF0eXBlIjowLCJyb3V0ZSI6IlwvdGFnZ2VkXC86dGFnIiwicG9zdHMiOlt7InBvc3RpZCI6IjM2NTMyNjY2NjQ5IiwiYmxvZ2lkIjoiNTY1MTEwOCIsInNvdXJjZSI6MzN9XSwibm9zY3JpcHQiOjF9&U=IOOAFBNANH&K=aea3a7c9970dcb6d2b236f59f757d94c3a06db41199d366736131597fb66fdf1&R="></noscript><script type="text/javascript" src="http://l.yimg.com/ss/rapid-3.9.js"></script><script>
                    (function(YAHOO) {
                        if (YAHOO) {
                            YAHOO.i13n.beacon_server = 'nol.yahoo.com';
                            var keys = { pd:'/tagged/:tag', _li:0, i_rad:0, i_strm:0 };
                            YAHOO.rapid = new YAHOO.i13n.Rapid({spaceid:1197719232, oo:1, client_only:1, yql_enabled:false, keys:keys});
                        }
                    })(window.YAHOO);
                </script><!-- END TUMBLR CODE -->

</body>
</html>