<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>PEP 440 -- Version Identification and Dependency Specification</title>
  <meta name="keywords" content="PEP 440 -- Version Identification and Dependency Specification" />
  <meta name="description" content="PEP 440 -- Version Identification and Dependency Specification" />
  <link rel="alternate" type="application/rss+xml" title="Community Events"
        href="http://www.python.org/channews.rdf" />
  <link rel="alternate" type="application/rss+xml" title="Python Recipes"
        href="http://aspn.activestate.com/ASPN/Cookbook/Python/index_rss" />
  <link rel="alternate" type="application/rss+xml" title="Usergroup News"
        href="http://python-groups.blogspot.com/feeds/posts/default" />
  <link rel="alternate" type="application/rss+xml" title="Python Screencasts"
        href="http://www.showmedo.com/latestVideoFeed/rss2.0?tag=python" />
  <link rel="alternate" type="application/rss+xml" title="Python Podcasts"
        href="http://www.awaretek.com/python/index.xml" />
  <link rel="alternate" type="application/rss+xml" title="Foundation News"
        href="http://feeds.feedburner.com/PythonSoftwareFoundationNews" />
  <link rel="alternate" type="application/rss+xml" title="Python Enhancement Proposals"
        href="http://www.python.org/dev/peps/peps.rss" />
  <link rel="alternate" type="application/rss+xml" title="Python Job Opportunities"
        href="http://www.python.org/community/jobs/jobs.rss" />
  <link rel="alternate" type="application/rss+xml" title="Reddit Feed of Python What's New Online"
        href="http://www.reddit.com/r/Python/.rss" />
  <link rel="alternate" type="application/rss+xml" title="Python Insider"
        href="http://feeds.feedburner.com/PythonInsider" />

  <link rel="stylesheet" type="text/css" media="screen" id="screen-switcher-stylesheet"
        href="/styles/screen-switcher-default.css" />
  <link rel="stylesheet" type="text/css" media="sc&#82;een"
        href="/styles/netscape4.css" />
  <link rel="stylesheet" type="text/css" media="print"
        href="/styles/print.css" />
  <link rel="alternate stylesheet" type="text/css" media="screen"
        href="/styles/largestyles.css" title="large text" />
  <link rel="alternate stylesheet" type="text/css" media="screen"
        href="/styles/defaultfonts.css" title="default fonts" />

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search under the www.python.org Domain"
        href="/search-pysite.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within the Python Wiki"
        href="/search-pywiki.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within Python Books at Google Book Search"
        href="/search-pybooks.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within the Python Documentation"
        href="/search-pydocs.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search for a Module in the Standard Library"
        href="/search-pymodules.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search for Packages inside the Cheeseshop (PyPI)"
        href="/search-pycheese.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search Archives of the Main Python Mailing List"
        href="/search-pythonlist.xml"/>

  <script type="text/javascript" src="/js/iotbs2-key-directors-load.js"></script>
  <script type="text/javascript" src="/js/iotbs2-directors.js"></script>
  <script type="text/javascript" src="/js/iotbs2-core.js"></script>

</head>


<body>
  <!-- Logo -->
  <h1 id="logoheader">
    <a href="/" id="logolink" accesskey="1"><img id="logo" src="/images/python-logo.gif" alt="homepage" border="0" /></a>
  </h1>
  <!-- Skip to Navigation -->
  <div class="skiptonav"><a href="#left-hand-navigation" accesskey="2"><img src="/images/trans.gif" id="skiptonav" alt="skip to navigation" border="0" /></a></div>
  <div class="skiptonav"><a href="#content-body" accesskey="3"><img src="/images/trans.gif" id="skiptocontent" alt="skip to content" border="0" /></a></div>
  <!-- Utility Menu -->
  <div id="utility-menu">
    <!-- Search Box -->
    <div id="searchbox">
      <form method="get" action="http://google.com/search" id="searchform" name="searchform">
        <div id="search">
          <input type="hidden" id="domains" name="domains" value="www.python.org" />
          <input type="hidden" id="sitesearch" name="sitesearch" value="www.python.org" />
          <input type="hidden" id="sourceid" name="sourceid" value="google-search" />
          <input type="text" class="input-text" name="q" id="q" />
          <input type="submit" value="search" class="input-button" name="submit" id="submit" />
          <a href="/search" class="reference">Advanced Search</a>
        </div>
      </form>
    </div>
    <div id="screen-switcher"></div>
  </div>

  <div id="left-hand-navigation">
    <!-- Main Menu -->
    <div id="menu">
      <ul class="level-one">
            <li>
          <a href="/about/" title="About The Python Language">About</a>
        </li>
            <li>
          <a href="/news/" title="Major Happenings Within the Python Community">News</a>
        </li>
            <li>
          <a href="/doc/" title="Tutorials, Library Reference, C API">Documentation</a>
        </li>
            <li>
          <a href="/download/" title="Start Running Python Under Windows, Mac, Linux and Others">Download</a>
        </li>
            <li>
          <a href="/getit/" title="Alternate Download page for China">ä¸è½½</a>
        </li>
            <li>
          <a href="/community/" title="Mailing Lists, Jobs, Conferences, SIGs, Online Chats">Community</a>
        </li>
            <li>
          <a href="/psf/" title="Python Software Foundation">Foundation</a>
        </li>
            <li>
          <a href="http://docs.python.org/devguide/" title="Development of the Python language and website">Core Development</a>
        </li>
      </ul>
    </div>

    <!-- Quick Links -->
    <h4><a style="margin-top:1.5em" href="http://wiki.python.org/moin/">Python Wiki</a></h4>
    <h4><a style="margin-top:1.5em" href="http://blog.python.org/">Python Insider Blog</a></h4>
    <h4><a style="margin-top:1.5em" href="http://wiki.python.org/moin/Python2orPython3">Python 2 or 3?</a></h4>
    <h4><a style="color:#D58228; margin-top:1.5em" href="/psf/donations/">Help Fund Python</a></h4>
    <div style="align:center; padding-top: 0.5em; padding-left: 1em">
      <a href="/psf/donations/"><img width="116" height="42" src="/images/donate.png" alt="" title="" /></a>
    </div>
    <div style="align:center; padding-top: 0.5em; padding-left: 2.5em">
            <a href="http://wiki.python.org/moin/Languages"><img
	      style="align:center"
              width="94" height="46"
	      src="/images/worldmap.jpg" alt="[Python resources in languages other than English]" /></a>
    </div>
    <div style="align:center; padding-top: 0.0em; padding-left: 0em">
       <h4><a href="http://wiki.python.org/moin/Languages">Non-English Resources</a></h4>
    </div>
    <div class="calendar">
        <iframe src="https://www.google.com/calendar/embed?title=Release%20Schedule&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=300&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=b6v58qvojllt0i6ql654r1vh00%40group.calendar.google.com&amp;color=%23B1365F&amp;" style=" border-width:0 " width="180" height="300" frameborder="0" scrolling="no">
            <a href="http://www.google.com/calendar/ical/b6v58qvojllt0i6ql654r1vh00%40group.calendar.google.com/public/basic.ics">
                Python Release Schedule iCal Calendar
            </a>
        </iframe>
    </div>
    <div class="calendar">
        <iframe src="https://www.google.com/calendar/embed?title=Events%20Calendar&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=300&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=j7gov1cmnqr9tvg14k621j7t5c%40group.calendar.google.com&amp;color=%23B1365F&amp;" style=" border-width:0 " width="180" height="300" frameborder="0" scrolling="no">
            <a href="http://www.google.com/calendar/ical/j7gov1cmnqr9tvg14k621j7t5c%40group.calendar.google.com/public/basic.ics">
                Python Events iCal Calendar
            </a>
        </iframe>
        <p class="level-one"><a href="http://pycon.org/#calendar">Add an event</a> to this calendar.</p>
    </div>
    <div class="calendar">
        <iframe src="https://www.google.com/calendar/embed?title=User%20Group%20Calendar&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=300&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=3haig2m9msslkpf2tn1h56nn9g%40group.calendar.google.com&amp;color=%23125A12&amp;" style=" border-width:0 " width="180" height="300" frameborder="0" scrolling="no">
            <a href="http://www.google.com/calendar/ical/3haig2m9msslkpf2tn1h56nn9g%40group.calendar.google.com/public/basic.ics">
                Python User Group iCal Calendar
            </a>
        </iframe>
        <p class="level-one"><a href="http://pycon.org/#calendar">Add an event</a> to this calendar.</p>
    </div>
  </div>

  <div id="content-body">
    <div id="body-main">
      <div id="content">
        
          <div id="breadcrumb">
               <a href="/dev/peps/">PEP Index</a>
               <span class="breadcrumb-separator">&gt;</span>
            
            PEP 440 -- Version Identification and Dependency Specification
          </div>



        <!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">440</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Version Identification and Dependency Specification</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">16d51a112841</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="http://hg.python.org/peps/file/tip/pep-0440.txt">2013-06-26 21:27:57 +1000 (Wed, 26 Jun 2013)</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Nick Coghlan &lt;ncoghlan&#32;&#97;t&#32;gmail.com&gt;</td>
</tr>
<tr class="field"><th class="field-name">BDFL-Delegate:</th><td class="field-body">Nick Coghlan &lt;<a class="reference external" href="mailto:ncoghlan&#64;gmail.com">ncoghlan&#64;gmail.com</a>&gt;</td>
</tr>
<tr class="field"><th class="field-name">Discussions-To:</th><td class="field-body">Distutils SIG &lt;<a class="reference external" href="mailto:distutils-sig&#64;python.org?subject=PEP%20440">distutils-sig&#32;&#97;t&#32;python.org</a>&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">18 Mar 2013</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body">30 Mar 2013, 27 May 2013, 20 Jun 2013</td>
</tr>
<tr class="field"><th class="field-name">Replaces:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0386">386</a></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id7">Abstract</a></li>
<li><a class="reference internal" href="#definitions" id="id8">Definitions</a></li>
<li><a class="reference internal" href="#version-scheme" id="id9">Version scheme</a><ul>
<li><a class="reference internal" href="#public-version-identifiers" id="id10">Public version identifiers</a></li>
<li><a class="reference internal" href="#source-labels" id="id11">Source labels</a></li>
<li><a class="reference internal" href="#final-releases" id="id12">Final releases</a></li>
<li><a class="reference internal" href="#pre-releases" id="id13">Pre-releases</a></li>
<li><a class="reference internal" href="#post-releases" id="id14">Post-releases</a></li>
<li><a class="reference internal" href="#developmental-releases" id="id15">Developmental releases</a></li>
<li><a class="reference internal" href="#examples-of-compliant-version-schemes" id="id16">Examples of compliant version schemes</a></li>
<li><a class="reference internal" href="#summary-of-permitted-suffixes-and-relative-ordering" id="id17">Summary of permitted suffixes and relative ordering</a></li>
<li><a class="reference internal" href="#version-ordering-across-different-metadata-versions" id="id18">Version ordering across different metadata versions</a></li>
<li><a class="reference internal" href="#compatibility-with-other-version-schemes" id="id19">Compatibility with other version schemes</a><ul>
<li><a class="reference internal" href="#semantic-versioning" id="id20">Semantic versioning</a></li>
<li><a class="reference internal" href="#dvcs-based-version-labels" id="id21">DVCS based version labels</a></li>
<li><a class="reference internal" href="#date-based-versions" id="id22">Date based versions</a></li>
<li><a class="reference internal" href="#olson-database-versioning" id="id23">Olson database versioning</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#version-specifiers" id="id24">Version specifiers</a><ul>
<li><a class="reference internal" href="#compatible-release" id="id25">Compatible release</a></li>
<li><a class="reference internal" href="#version-matching" id="id26">Version matching</a></li>
<li><a class="reference internal" href="#version-exclusion" id="id27">Version exclusion</a></li>
<li><a class="reference internal" href="#inclusive-ordered-comparison" id="id28">Inclusive ordered comparison</a></li>
<li><a class="reference internal" href="#exclusive-ordered-comparison" id="id29">Exclusive ordered comparison</a></li>
<li><a class="reference internal" href="#handling-of-pre-releases" id="id30">Handling of pre-releases</a></li>
<li><a class="reference internal" href="#examples" id="id31">Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#direct-references" id="id32">Direct references</a></li>
<li><a class="reference internal" href="#updating-the-versioning-specification" id="id33">Updating the versioning specification</a></li>
<li><a class="reference internal" href="#summary-of-differences-from-pep-386" id="id34">Summary of differences from PEP 386</a><ul>
<li><a class="reference internal" href="#adding-source-labels" id="id35">Adding source labels</a></li>
<li><a class="reference internal" href="#changing-the-version-scheme" id="id36">Changing the version scheme</a></li>
<li><a class="reference internal" href="#a-more-opinionated-description-of-the-versioning-scheme" id="id37">A more opinionated description of the versioning scheme</a></li>
<li><a class="reference internal" href="#describing-version-specifiers-alongside-the-versioning-scheme" id="id38">Describing version specifiers alongside the versioning scheme</a></li>
<li><a class="reference internal" href="#changing-the-interpretation-of-version-specifiers" id="id39">Changing the interpretation of version specifiers</a></li>
<li><a class="reference internal" href="#adding-direct-references" id="id40">Adding direct references</a></li>
</ul>
</li>
<li><a class="reference internal" href="#references" id="id41">References</a></li>
<li><a class="reference internal" href="#appendix-a" id="id42">Appendix A</a></li>
<li><a class="reference internal" href="#copyright" id="id43">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id7">Abstract</a></h1>
<p>This PEP describes a scheme for identifying versions of Python software
distributions, and declaring dependencies on particular versions.</p>
<p>This document addresses several limitations of the previous attempt at a
standardised approach to versioning, as described in <a class="reference external" href="/dev/peps/pep-0345">PEP 345</a> and <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a>.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p>This PEP was broken out of the metadata 2.0 specification in <a class="reference external" href="/dev/peps/pep-0426">PEP 426</a>.</p>
<p class="last">Unlike <a class="reference external" href="/dev/peps/pep-0426">PEP 426</a>, the notes that remain in this document are intended as
part of the final specification (except for this one).</p>
</div>
</div>
<div class="section" id="definitions">
<h1><a class="toc-backref" href="#id8">Definitions</a></h1>
<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
&quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,  &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
document are to be interpreted as described in <a class="reference external" href="http://www.faqs.org/rfcs/rfc2119.html">RFC 2119</a>.</p>
<p>The following terms are to be interpreted as described in <a class="reference external" href="/dev/peps/pep-0426">PEP 426</a>:</p>
<ul class="simple">
<li>&quot;Distributions&quot;</li>
<li>&quot;Releases&quot;</li>
<li>&quot;Build tools&quot;</li>
<li>&quot;Index servers&quot;</li>
<li>&quot;Publication tools&quot;</li>
<li>&quot;Installation tools&quot;</li>
<li>&quot;Automated tools&quot;</li>
<li>&quot;Projects&quot;</li>
</ul>
</div>
<div class="section" id="version-scheme">
<h1><a class="toc-backref" href="#id9">Version scheme</a></h1>
<p>Distributions are identified by a public version identifier which
supports all defined version comparison operations</p>
<p>Distributions may also define a source label, which is not used by
automated tools. Source labels are useful when a project internal
versioning scheme requires translation to create a compliant public
version identifier.</p>
<p>The version scheme is used both to describe the distribution version
provided by a particular distribution archive, as well as to place
constraints on the version of dependencies needed in order to build or
run the software.</p>
<div class="section" id="public-version-identifiers">
<h2><a class="toc-backref" href="#id10">Public version identifiers</a></h2>
<p>Public version identifiers MUST comply with the following scheme:</p>
<pre class="literal-block">
N[.N]+[{a|b|c|rc}N][.postN][.devN]
</pre>
<p>Public version identifiers MUST NOT include leading or trailing whitespace.</p>
<p>Public version identifiers MUST be unique within a given distribution.</p>
<p>Installation tools SHOULD ignore any public versions which do not comply with
this scheme. Installation tools MAY warn the user when non-compliant
or ambiguous versions are detected.</p>
<p>Public version identifiers are separated into up to four segments:</p>
<ul class="simple">
<li>Release segment: <tt class="docutils literal"><span class="pre">N[.N]+</span></tt></li>
<li>Pre-release segment: <tt class="docutils literal">{a|b|c|rc}N</tt></li>
<li>Post-release segment: <tt class="docutils literal">.postN</tt></li>
<li>Development release segment: <tt class="docutils literal">.devN</tt></li>
</ul>
<p>Any given release will be a &quot;final release&quot;, &quot;pre-release&quot;, &quot;post-release&quot; or
&quot;developmental release&quot; as defined in the following sections.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p>Some hard to read version identifiers are permitted by this scheme in
order to better accommodate the wide range of versioning practices
across existing public and private Python projects.</p>
<p class="last">Accordingly, some of the versioning practices which are technically
permitted by the PEP are strongly discouraged for new projects. Where
this is the case, the relevant details are noted in the following
sections.</p>
</div>
</div>
<div class="section" id="source-labels">
<h2><a class="toc-backref" href="#id11">Source labels</a></h2>
<p>Source labels are text strings with minimal defined semantics.</p>
<p>To ensure source labels can be readily incorporated as part of file names
and URLs, and to avoid formatting inconsistences in hexadecimal hash
representations they MUST be limited to the following set of permitted
characters:</p>
<ul class="simple">
<li>Lowercase ASCII letters (<tt class="docutils literal"><span class="pre">[a-z]</span></tt>)</li>
<li>ASCII digits (<tt class="docutils literal"><span class="pre">[0-9]</span></tt>)</li>
<li>underscores (<tt class="docutils literal">_</tt>)</li>
<li>hyphens (<tt class="docutils literal">-</tt>)</li>
<li>periods (<tt class="docutils literal">.</tt>)</li>
<li>plus signs (<tt class="docutils literal">+</tt>)</li>
</ul>
<p>Source labels MUST start and end with an ASCII letter or digit.</p>
<p>Source labels MUST be unique within each project and MUST NOT match any
defined version for the project.</p>
</div>
<div class="section" id="final-releases">
<h2><a class="toc-backref" href="#id12">Final releases</a></h2>
<p>A version identifier that consists solely of a release segment is
termed a &quot;final release&quot;.</p>
<p>The release segment consists of one or more non-negative integer
values, separated by dots:</p>
<pre class="literal-block">
N[.N]+
</pre>
<p>Final releases within a project MUST be numbered in a consistently
increasing fashion, otherwise automated tools will not be able to upgrade
them correctly.</p>
<p>Comparison and ordering of release segments considers the numeric value
of each component of the release segment in turn. When comparing release
segments with different numbers of components, the shorter segment is
padded out with additional zeroes as necessary.</p>
<p>Date based release numbers are declared to be incompatible with this scheme,
as their use is not consistent with the expected API versioning semantics
described below. Accordingly, automated tools SHOULD report an error
when encountering a leading release component greater than or equal
to <tt class="docutils literal">1980</tt>.</p>
<p>While any number of additional components after the first are permitted
under this scheme, the most common variants are to use two components
(&quot;major.minor&quot;) or three components (&quot;major.minor.micro&quot;).</p>
<p>For example:</p>
<pre class="literal-block">
0.9
0.9.1
0.9.2
...
0.9.10
0.9.11
1.0
1.0.1
1.1
2.0
2.0.1
</pre>
<p>A release series is any set of final release numbers that start with a
common prefix. For example, <tt class="docutils literal">3.3.1</tt>, <tt class="docutils literal">3.3.5</tt> and <tt class="docutils literal">3.3.9.45</tt> are all
part of the <tt class="docutils literal">3.3</tt> release series.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal">X.Y</tt> and <tt class="docutils literal">X.Y.0</tt> are not considered distinct release numbers, as
the release segment comparison rules implicit expand the two component
form to <tt class="docutils literal">X.Y.0</tt> when comparing it to any release segment that includes
three components.</p>
</div>
</div>
<div class="section" id="pre-releases">
<h2><a class="toc-backref" href="#id13">Pre-releases</a></h2>
<p>Some projects use an &quot;alpha, beta, release candidate&quot; pre-release cycle to
support testing by their users prior to a final release.</p>
<p>If used as part of a project's development cycle, these pre-releases are
indicated by including a pre-release segment in the version identifier:</p>
<pre class="literal-block">
X.YaN  # Alpha release
X.YbN  # Beta release
X.YcN  # Candidate release (alternative notation: X.YrcN)
X.Y    # Final release
</pre>
<p>A version identifier that consists solely of a release segment and a
pre-release segment is termed a &quot;pre-release&quot;.</p>
<p>The pre-release segment consists of an alphabetical identifier for the
pre-release phase, along with a non-negative integer value. Pre-releases for
a given release are ordered first by phase (alpha, beta, release candidate)
and then by the numerical component within that phase.</p>
<p>Installation tools MAY accept both <tt class="docutils literal">c</tt> and <tt class="docutils literal">rc</tt> releases for a common
release segment in order to handle some existing legacy distributions.</p>
<p>Installation tools SHOULD interpret all <tt class="docutils literal">rc</tt> versions as coming after all
<tt class="docutils literal">c</tt> versions (that is, <tt class="docutils literal">rc1</tt> indicates a later version than <tt class="docutils literal">c2</tt>).
Installation tools MAY warn the user when such ambiguous versions are
detected, or even reject them entirely.</p>
<p>Build tools, publication tools and index servers SHOULD disallow the creation
of both <tt class="docutils literal">c</tt> and <tt class="docutils literal">rc</tt> releases for a common release segment.</p>
</div>
<div class="section" id="post-releases">
<h2><a class="toc-backref" href="#id14">Post-releases</a></h2>
<p>Some projects use post-releases to address minor errors in a final release
that do not affect the distributed software (for example, correcting an error
in the release notes).</p>
<p>If used as part of a project's development cycle, these post-releases are
indicated by including a post-release segment in the version identifier:</p>
<pre class="literal-block">
X.Y.postN    # Post-release
</pre>
<p>A version identifier that includes a post-release segment without a
developmental release segment is termed a &quot;post-release&quot;.</p>
<p>The post-release segment consists of the string <tt class="docutils literal">.post</tt>, followed by a
non-negative integer value. Post-releases are ordered by their
numerical component, immediately following the corresponding release,
and ahead of any subsequent release.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">The use of post-releases to publish maintenance releases containing
actual bug fixes is strongly discouraged. In general, it is better
to use a longer release number and increment the final component
for each maintenance release.</p>
</div>
<p>Post-releases are also permitted for pre-releases:</p>
<pre class="literal-block">
X.YaN.postM  # Post-release of an alpha release
X.YbN.postM  # Post-release of a beta release
X.YcN.postM  # Post-release of a release candidate
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Creating post-releases of pre-releases is strongly discouraged, as
it makes the version identifier difficult to parse for human readers.
In general, it is substantially clearer to simply create a new
pre-release by incrementing the numeric component.</p>
</div>
</div>
<div class="section" id="developmental-releases">
<h2><a class="toc-backref" href="#id15">Developmental releases</a></h2>
<p>Some projects make regular developmental releases, and system packagers
(especially for Linux distributions) may wish to create early releases
directly from source control which do not conflict with later project
releases.</p>
<p>If used as part of a project's development cycle, these developmental
releases are indicated by including a developmental release segment in the
version identifier:</p>
<pre class="literal-block">
X.Y.devN    # Developmental release
</pre>
<p>A version identifier that includes a developmental release segment is
termed a &quot;developmental release&quot;.</p>
<p>The developmental release segment consists of the string <tt class="docutils literal">.dev</tt>,
followed by a non-negative integer value. Developmental releases are ordered
by their numerical component, immediately before the corresponding release
(and before any pre-releases with the same release segment), and following
any previous release (including any post-releases).</p>
<p>Developmental releases are also permitted for pre-releases and
post-releases:</p>
<pre class="literal-block">
X.YaN.devM      # Developmental release of an alpha release
X.YbN.devM      # Developmental release of a beta release
X.YcN.devM      # Developmental release of a release candidate
X.Y.postN.devM  # Developmental release of a post-release
</pre>
<div class="note">
<p class="first admonition-title">Note</p>
<p>Creating developmental releases of pre-releases is strongly
discouraged, as it makes the version identifier difficult to parse for
human readers. In general, it is substantially clearer to simply create
additional pre-releases by incrementing the numeric component.</p>
<p class="last">Developmental releases of post-releases are also strongly discouraged,
but they may be appropriate for projects which use the post-release
notation for full maintenance releases which may include code changes.</p>
</div>
</div>
<div class="section" id="examples-of-compliant-version-schemes">
<h2><a class="toc-backref" href="#id16">Examples of compliant version schemes</a></h2>
<p>The standard version scheme is designed to encompass a wide range of
identification practices across public and private Python projects. In
practice, a single project attempting to use the full flexibility offered
by the scheme would create a situation where human users had difficulty
figuring out the relative order of versions, even though the rules above
ensure all compliant tools will order them consistently.</p>
<p>The following examples illustrate a small selection of the different
approaches projects may choose to identify their releases, while still
ensuring that the &quot;latest release&quot; and the &quot;latest stable release&quot; can
be easily determined, both by human users and automated tools.</p>
<p>Simple &quot;major.minor&quot; versioning:</p>
<pre class="literal-block">
0.1
0.2
0.3
1.0
1.1
...
</pre>
<p>Simple &quot;major.minor.micro&quot; versioning:</p>
<pre class="literal-block">
1.1.0
1.1.1
1.1.2
1.2.0
...
</pre>
<p>&quot;major.minor&quot; versioning with alpha, beta and candidate
pre-releases:</p>
<pre class="literal-block">
0.9
1.0a1
1.0a2
1.0b1
1.0c1
1.0
1.1a1
...
</pre>
<p>&quot;major.minor&quot; versioning with developmental releases, release candidates
and post-releases for minor corrections:</p>
<pre class="literal-block">
0.9
1.0.dev1
1.0.dev2
1.0.dev3
1.0.dev4
1.0rc1
1.0rc2
1.0
1.0.post1
1.1.dev1
...
</pre>
</div>
<div class="section" id="summary-of-permitted-suffixes-and-relative-ordering">
<h2><a class="toc-backref" href="#id17">Summary of permitted suffixes and relative ordering</a></h2>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">This section is intended primarily for authors of tools that
automatically process distribution metadata, rather than developers
of Python distributions deciding on a versioning scheme.</p>
</div>
<p>The release segment of version identifiers MUST be sorted in
the same order as Python's tuple sorting when the release segment is
parsed as follows:</p>
<pre class="literal-block">
tuple(map(int, release_segment.split(&quot;.&quot;)))
</pre>
<p>All release segments involved in the comparison MUST be converted to a
consistent length by padding shorter segments with zeroes as needed.</p>
<p>Within a numeric release (<tt class="docutils literal">1.0</tt>, <tt class="docutils literal">2.7.3</tt>), the following suffixes
are permitted and MUST be ordered as shown:</p>
<pre class="literal-block">
.devN, aN, bN, cN, rcN, &lt;no suffix&gt;, .postN
</pre>
<p>Note that <cite>rc</cite> will always sort after <cite>c</cite> (regardless of the numeric
component) although they are semantically equivalent. Tools MAY
reject this case as ambiguous and remain in compliance with the PEP.</p>
<p>Within an alpha (<tt class="docutils literal">1.0a1</tt>), beta (<tt class="docutils literal">1.0b1</tt>), or release candidate
(<tt class="docutils literal">1.0c1</tt>, <tt class="docutils literal">1.0rc1</tt>), the following suffixes are permitted and MUST be
ordered as shown:</p>
<pre class="literal-block">
.devN, &lt;no suffix&gt;, .postN
</pre>
<p>Within a post-release (<tt class="docutils literal">1.0.post1</tt>), the following suffixes are permitted
and MUST be ordered as shown:</p>
<pre class="literal-block">
.devN, &lt;no suffix&gt;
</pre>
<p>Note that <tt class="docutils literal">devN</tt> and <tt class="docutils literal">postN</tt> MUST always be preceded by a dot, even
when used immediately following a numeric version (e.g. <tt class="docutils literal">1.0.dev456</tt>,
<tt class="docutils literal">1.0.post1</tt>).</p>
<p>Within a pre-release, post-release or development release segment with a
shared prefix, ordering MUST be by the value of the numeric component.</p>
<p>The following example covers many of the possible combinations:</p>
<pre class="literal-block">
1.0.dev456
1.0a1
1.0a2.dev456
1.0a12.dev456
1.0a12
1.0b1.dev456
1.0b2
1.0b2.post345.dev456
1.0b2.post345
1.0c1.dev456
1.0c1
1.0
1.0.post456.dev34
1.0.post456
1.1.dev1
</pre>
</div>
<div class="section" id="version-ordering-across-different-metadata-versions">
<h2><a class="toc-backref" href="#id18">Version ordering across different metadata versions</a></h2>
<p>Metadata v1.0 (<a class="reference external" href="/dev/peps/pep-0241">PEP 241</a>) and metadata v1.1 (<a class="reference external" href="/dev/peps/pep-0314">PEP 314</a>) do not
specify a standard version identification or ordering scheme. This PEP does
not mandate any particular approach to handling such versions, but
acknowledges that the de facto standard for ordering them is
the scheme used by the <tt class="docutils literal">pkg_resources</tt> component of <tt class="docutils literal">setuptools</tt>.</p>
<p>Software that automatically processes distribution metadata SHOULD attempt
to normalize non-compliant version identifiers to the standard scheme, and
ignore them if normalization fails. As any normalization scheme will be
implementation specific, this means that projects using non-compliant
version identifiers may not be handled consistently across different
tools, even when correctly publishing the earlier metadata versions.</p>
<p>For distributions currently using non-compliant version identifiers, these
filtering guidelines mean that it should be enough for the project to
simply switch to the use of compliant version identifiers to ensure
consistent handling by automated tools.</p>
<p>Distribution users may wish to explicitly remove non-compliant versions from
any private package indexes they control.</p>
<p>For metadata v1.2 (<a class="reference external" href="/dev/peps/pep-0345">PEP 345</a>), the version ordering described in this PEP
SHOULD be used in preference to the one defined in <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a>.</p>
</div>
<div class="section" id="compatibility-with-other-version-schemes">
<h2><a class="toc-backref" href="#id19">Compatibility with other version schemes</a></h2>
<p>Some projects may choose to use a version scheme which requires
translation in order to comply with the public version scheme defined in
this PEP. In such cases, the source label can be used to
record the project specific version as an arbitrary label, while the
translated public version is published in the version field.</p>
<p>This allows automated distribution tools to provide consistently correct
ordering of published releases, while still allowing developers to use
the internal versioning scheme they prefer for their projects.</p>
<div class="section" id="semantic-versioning">
<h3><a class="toc-backref" href="#id20">Semantic versioning</a></h3>
<p><a class="reference external" href="http://semver.org/">Semantic versioning</a> <a class="footnote-reference" href="#id5" id="id6">[3]</a> is a popular version identification scheme that is
more prescriptive than this PEP regarding the significance of different
elements of a release number. Even if a project chooses not to abide by
the details of semantic versioning, the scheme is worth understanding as
it covers many of the issues that can arise when depending on other
distributions, and when publishing a distribution that others rely on.</p>
<p>The &quot;Major.Minor.Patch&quot; (described in this PEP as &quot;major.minor.micro&quot;)
aspects of semantic versioning (clauses 1-9 in the 2.0.0-rc-1 specification)
are fully compatible with the version scheme defined in this PEP, and abiding
by these aspects is encouraged.</p>
<p>Semantic versions containing a hyphen (pre-releases - clause 10) or a
plus sign (builds - clause 11) are <em>not</em> compatible with this PEP
and are not permitted in the public version field.</p>
<p>One possible mechanism to translate such semantic versioning based build
labels to compatible public versions is to use the <tt class="docutils literal">.devN</tt> suffix to
specify the appropriate version order.</p>
</div>
<div class="section" id="dvcs-based-version-labels">
<h3><a class="toc-backref" href="#id21">DVCS based version labels</a></h3>
<p>Many build tools integrate with distributed version control systems like
Git and Mercurial in order to add an identifying hash to the version
identifier. As hashes cannot be ordered reliably such versions are not
permitted in the public version field.</p>
<p>As with semantic versioning, the public <tt class="docutils literal">.devN</tt> suffix may be used to
uniquely identify such releases for publication, while the source label is
used to record the original DVCS based version label.</p>
</div>
<div class="section" id="date-based-versions">
<h3><a class="toc-backref" href="#id22">Date based versions</a></h3>
<p>As with other incompatible version schemes, date based versions can be
stored in the source label field. Translating them to a compliant
public version is straightforward: use a leading <tt class="docutils literal">&quot;0.&quot;</tt> prefix in the
public version label, with the date based version number as the remaining
components in the release segment.</p>
<p>This has the dual benefit of allowing subsequent migration to version
numbering based on API compatibility, as well as triggering more appropriate
version comparison semantics.</p>
</div>
<div class="section" id="olson-database-versioning">
<h3><a class="toc-backref" href="#id23">Olson database versioning</a></h3>
<p>The <tt class="docutils literal">pytz</tt> project inherits its versioning scheme from the corresponding
Olson timezone database versioning scheme: the year followed by a lowercase
character indicating the version of the database within that year.</p>
<p>This can be translated to a compliant 3-part version identifier as
<tt class="docutils literal"><span class="pre">0.&lt;year&gt;.&lt;serial&gt;</span></tt>, where the serial starts at zero (for the '&lt;year&gt;a'
release) and is incremented with each subsequent database update within the
year.</p>
<p>As with other translated version identifiers, the corresponding Olson
database version would be recorded in the source label field.</p>
</div>
</div>
</div>
<div class="section" id="version-specifiers">
<h1><a class="toc-backref" href="#id24">Version specifiers</a></h1>
<p>A version specifier consists of a series of version clauses, separated by
commas. For example:</p>
<pre class="literal-block">
0.9, ~= 0.9, &gt;= 1.0, != 1.3.4.*, &lt; 2.0
</pre>
<p>The comparison operator (or lack thereof) determines the kind of version
clause:</p>
<ul class="simple">
<li>No operator: equivalent to <tt class="docutils literal">~=</tt></li>
<li><tt class="docutils literal">~=</tt>: <a class="reference internal" href="#compatible-release">Compatible release</a> clause</li>
<li><tt class="docutils literal">==</tt>: <a class="reference internal" href="#version-matching">Version matching</a> clause</li>
<li><tt class="docutils literal">!=</tt>: <a class="reference internal" href="#version-exclusion">Version exclusion</a> clause</li>
<li><tt class="docutils literal">&lt;=</tt>, <tt class="docutils literal">&gt;=</tt>: <a class="reference internal" href="#inclusive-ordered-comparison">Inclusive ordered comparison</a> clause</li>
<li><tt class="docutils literal">&lt;</tt>, <tt class="docutils literal">&gt;</tt>: <a class="reference internal" href="#exclusive-ordered-comparison">Exclusive ordered comparison</a> clause</li>
</ul>
<p>The comma (&quot;,&quot;) is equivalent to a logical <strong>and</strong> operator: a candidate
version must match all given version clauses in order to match the
specifier as a whole.</p>
<p>Whitespace between a conditional operator and the following version
identifier is optional, as is the whitespace around the commas.</p>
<p>When multiple candidate versions match a version specifier, the preferred
version SHOULD be the latest version as determined by the consistent
ordering defined by the standard <a class="reference internal" href="#version-scheme">Version scheme</a>. Whether or not
pre-releases are considered as candidate versions SHOULD be handled as
described in <a class="reference internal" href="#handling-of-pre-releases">Handling of pre-releases</a>.</p>
<div class="section" id="compatible-release">
<h2><a class="toc-backref" href="#id25">Compatible release</a></h2>
<p>A compatible release clause consists of either a version identifier without
any comparison operator or else the compatible release operator <tt class="docutils literal">~=</tt>
and a version identifier. It matches any candidate version that is expected
to be compatible with the specified version.</p>
<p>The specified version identifier must be in the standard format described in
<a class="reference internal" href="#version-scheme">Version scheme</a>.</p>
<p>For a given release identifier <tt class="docutils literal">V.N</tt>, the compatible release clause is
approximately equivalent to the pair of comparison clauses:</p>
<pre class="literal-block">
&gt;= V.N, == V.*
</pre>
<p>For example, the following groups of version clauses are equivalent:</p>
<pre class="literal-block">
2.2
~= 2.2
&gt;= 2.2, == 2.*

1.4.5
~= 1.4.5
&gt;= 1.4.5, == 1.4.*
</pre>
<p>If a pre-release, post-release or developmental release is named in a
compatible release clause as <tt class="docutils literal">V.N.suffix</tt>, then the suffix is ignored
when determining the required prefix match:</p>
<pre class="literal-block">
2.2.post3
~= 2.2.post3
&gt;= 2.2.post3, == 2.*

1.4.5a4
~= 1.4.5a4
&gt;= 1.4.5a4, == 1.4.*
</pre>
<p>The padding rules for release segment comparisons means that the assumed
degree of forward compatibility in a compatible release clause can be
controlled by appending additional zeroes to the version specifier:</p>
<pre class="literal-block">
2.2.0
~= 2.2.0
&gt;= 2.2.0, == 2.2.*

1.4.5.0
~= 1.4.5.0
&gt;= 1.4.5.0, == 1.4.5.*
</pre>
</div>
<div class="section" id="version-matching">
<h2><a class="toc-backref" href="#id26">Version matching</a></h2>
<p>A version matching clause includes the version matching operator <tt class="docutils literal">==</tt>
and a version identifier.</p>
<p>The specified version identifier must be in the standard format described in
<a class="reference internal" href="#version-scheme">Version scheme</a>, but a trailing <tt class="docutils literal">.*</tt> is permitted as described below.</p>
<p>By default, the version matching operator is based on a strict equality
comparison: the specified version must be exactly the same as the requested
version. The <em>only</em> substitution performed is the zero padding of the
release segment to ensure the release segments are compared with the same
length.</p>
<p>Whether or not strict version matching is appropriate depends on the specific
use case for the version specifier. Automated tools SHOULD at least issue
warnings and MAY reject them entirely when strict version matches are used
inappropriately.</p>
<p>Prefix matching may be requested instead of strict comparison, by appending
a trailing <tt class="docutils literal">.*</tt> to the version identifier in the version matching clause.
This means that additional trailing segments will be ignored when
determining whether or not a version identifier matches the clause. If the
version includes only a release segment, than trailing components in the
release segment are also ignored.</p>
<p>For example, given the version <tt class="docutils literal">1.1.post1</tt>, the following clauses would
match or not as shown:</p>
<pre class="literal-block">
== 1.1        # Not equal, so 1.1.post1 does not match clause
== 1.1.post1  # Equal, so 1.1.post1 matches clause
== 1.1.*      # Same prefix, so 1.1.post1 matches clause
</pre>
<p>The use of <tt class="docutils literal">==</tt> (without at least the wildcard suffix) when defining
dependencies for published distributions is strongly discouraged as it
greatly complicates the deployment of security fixes. The strict version
comparison operator is intended primarily for use when defining
dependencies for repeatable <em>deployments of applications</em> while using
a shared distribution index.</p>
</div>
<div class="section" id="version-exclusion">
<h2><a class="toc-backref" href="#id27">Version exclusion</a></h2>
<p>A version exclusion clause includes the version exclusion operator <tt class="docutils literal">!=</tt>
and a version identifier.</p>
<p>The allowed version identifiers and comparison semantics are the same as
those of the <a class="reference internal" href="#version-matching">Version matching</a> operator, except that the sense of any
match is inverted.</p>
<p>For example, given the version <tt class="docutils literal">1.1.post1</tt>, the following clauses would
match or not as shown:</p>
<pre class="literal-block">
!= 1.1        # Not equal, so 1.1.post1 matches clause
!= 1.1.post1  # Equal, so 1.1.post1 does not match clause
!= 1.1.*      # Same prefix, so 1.1.post1 does not match clause
</pre>
</div>
<div class="section" id="inclusive-ordered-comparison">
<h2><a class="toc-backref" href="#id28">Inclusive ordered comparison</a></h2>
<p>An inclusive ordered comparison clause includes a comparison operator and a
version identifier, and will match any version where the comparison is correct
based on the relative position of the candidate version and the specified
version given the consistent ordering defined by the standard
<a class="reference internal" href="#version-scheme">Version scheme</a>.</p>
<p>The inclusive ordered comparison operators are <tt class="docutils literal">&lt;=</tt> and <tt class="docutils literal">&gt;=</tt>.</p>
<p>As with version matching, the release segment is zero padded as necessary to
ensure the release segments are compared with the same length.</p>
</div>
<div class="section" id="exclusive-ordered-comparison">
<h2><a class="toc-backref" href="#id29">Exclusive ordered comparison</a></h2>
<p>Exclusive ordered comparisons are similar to inclusive ordered comparisons,
except that the comparison operators are <tt class="docutils literal">&lt;</tt> and <tt class="docutils literal">&gt;</tt> and the clause
MUST be effectively interpreted as implying the prefix based version
exclusion clause <tt class="docutils literal">!= V.*</tt>.</p>
<p>The exclusive ordered comparison <tt class="docutils literal">&gt; V</tt> MUST NOT match a post-release
or maintenance release of the given version. Maintenance releases can be
permitted by using the clause <tt class="docutils literal">&gt; V.0</tt>, while both post releases and
maintenance releases can be permitted by using the inclusive ordered
comparison <tt class="docutils literal">&gt;= V.post1</tt>.</p>
<p>The exclusive ordered comparison <tt class="docutils literal">&lt; V</tt> MUST NOT match a pre-release of
the given version, even if acceptance of pre-releases is enabled as
described in the section below.</p>
</div>
<div class="section" id="handling-of-pre-releases">
<h2><a class="toc-backref" href="#id30">Handling of pre-releases</a></h2>
<p>Pre-releases of any kind, including developmental releases, are implicitly
excluded from all version specifiers, <em>unless</em> they are already present
on the system, explicitly requested by the user, or if the only available
version that satisfies the version specifier is a pre-release.</p>
<p>By default, dependency resolution tools SHOULD:</p>
<ul class="simple">
<li>accept already installed pre-releases for all version specifiers</li>
<li>accept remotely available pre-releases for version specifiers where
there is no final or post release that satisfies the version specifier</li>
<li>exclude all other pre-releases from consideration</li>
</ul>
<p>Dependency resolution tools MAY issue a warning if a pre-release is needed
to satisfy a version specifier.</p>
<p>Dependency resolution tools SHOULD also allow users to request the
following alternative behaviours:</p>
<ul class="simple">
<li>accepting pre-releases for all version specifiers</li>
<li>excluding pre-releases for all version specifiers (reporting an error or
warning if a pre-release is already installed locally, or if a
pre-release is the only way to satisfy a particular specifier)</li>
</ul>
<p>Dependency resolution tools MAY also allow the above behaviour to be
controlled on a per-distribution basis.</p>
<p>Post-releases and final releases receive no special treatment in version
specifiers - they are always included unless explicitly excluded.</p>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id31">Examples</a></h2>
<ul class="simple">
<li><tt class="docutils literal">3.1</tt>: version 3.1 or later, but not version 4.0 or later.</li>
<li><tt class="docutils literal">3.1.2</tt>: version 3.1.2 or later, but not version 3.2.0 or later.</li>
<li><tt class="docutils literal">3.1a1</tt>: version 3.1a1 or later, but not version 4.0 or later.</li>
<li><tt class="docutils literal">== 3.1</tt>: specifically version 3.1 (or 3.1.0), excludes all pre-releases,
post releases, developmental releases and any 3.1.x maintenance releases.</li>
<li><tt class="docutils literal">== 3.1.*</tt>: any version that starts with 3.1. Equivalent to the
<tt class="docutils literal">3.1.0</tt> compatible release clause.</li>
<li><tt class="docutils literal">3.1.0, != 3.1.3</tt>: version 3.1.0 or later, but not version 3.1.3 and
not version 3.2.0 or later.</li>
</ul>
</div>
</div>
<div class="section" id="direct-references">
<h1><a class="toc-backref" href="#id32">Direct references</a></h1>
<p>Some automated tools may permit the use of a direct reference as an
alternative to a normal version specifier. A direct reference consists of
the word <tt class="docutils literal">from</tt> and an explicit URL.</p>
<p>Whether or not direct references are appropriate depends on the specific
use case for the version specifier. Automated tools SHOULD at least issue
warnings and MAY reject them entirely when direct references are used
inappropriately.</p>
<p>Public index servers SHOULD NOT allow the use of direct references in
uploaded distributions. Direct references are intended as a tool for
software integrators rather than publishers.</p>
<p>Depending on the use case, some appropriate targets for a direct URL
reference may be a valid <tt class="docutils literal">source_url</tt> entry (see <a class="reference external" href="/dev/peps/pep-0426">PEP 426</a>), an sdist, or
a wheel binary archive. The exact URLs and targets supported will be tool
dependent.</p>
<p>For example, a local source archive may be referenced directly:</p>
<pre class="literal-block">
pip (from file:///localbuilds/pip-1.3.1.zip)
</pre>
<p>Alternatively, a prebuilt archive may also be referenced:</p>
<pre class="literal-block">
pip (from file:///localbuilds/pip-1.3.1-py33-none-any.whl)
</pre>
<p>All direct references that do not refer to a local file URL SHOULD
specify a secure transport mechanism (such as <tt class="docutils literal">https</tt>), include an
expected hash value in the URL for verification purposes, or both. If an
insecure transport is specified without any hash information, with hash
information that the tool doesn't understand, or with a selected hash
algorithm that the tool considers too weak to trust, automated tools
SHOULD at least emit a warning and MAY refuse to rely on the URL.</p>
<p>It is RECOMMENDED that only hashes which are unconditionally provided by
the latest version of the standard library's <tt class="docutils literal">hashlib</tt> module be used
for source archive hashes. At time of writing, that list consists of
<tt class="docutils literal">'md5'</tt>, <tt class="docutils literal">'sha1'</tt>, <tt class="docutils literal">'sha224'</tt>, <tt class="docutils literal">'sha256'</tt>, <tt class="docutils literal">'sha384'</tt>, and
<tt class="docutils literal">'sha512'</tt>.</p>
<p>For source archive and wheel references, an expected hash value may be
specified by including a <tt class="docutils literal"><span class="pre">&lt;hash-algorithm&gt;=&lt;expected-hash&gt;</span></tt> entry as
part of the URL fragment.</p>
<p>Version control references, the <tt class="docutils literal">VCS+protocol</tt> scheme SHOULD be
used to identify both the version control system and the secure transport.</p>
<p>To support version control systems that do not support including commit or
tag references directly in the URL, that information may be appended to the
end of the URL using the <tt class="docutils literal">&#64;&lt;tag&gt;</tt> notation.</p>
<p>Remote URL examples:</p>
<pre class="literal-block">
pip (from https://github.com/pypa/pip/archive/1.3.1.zip)
pip (from http://github.com/pypa/pip/archive/1.3.1.zip#sha1=da9234ee9982d4bbb3c72346a6de940a148ea686)
pip (from git+https://github.com/pypa/pip.git&#64;1.3.1)
</pre>
</div>
<div class="section" id="updating-the-versioning-specification">
<h1><a class="toc-backref" href="#id33">Updating the versioning specification</a></h1>
<p>The versioning specification may be updated with clarifications without
requiring a new PEP or a change to the metadata version.</p>
<p>Actually changing the version comparison semantics still requires a new
versioning scheme and metadata version defined in new PEPs.</p>
</div>
<div class="section" id="summary-of-differences-from-pep-386">
<h1><a class="toc-backref" href="#id34">Summary of differences from PEP 386</a></h1>
<ul class="simple">
<li>Moved the description of version specifiers into the versioning PEP</li>
<li>Added the &quot;source label&quot; concept to better handle projects that wish to
use a non-compliant versioning scheme internally, especially those based
on DVCS hashes</li>
<li>Added the &quot;direct reference&quot; concept as a standard notation for direct
references to resources (rather than each tool needing to invents its own)</li>
<li>Added the &quot;compatible release&quot; clause</li>
<li>Added the trailing wildcard syntax for prefix based version matching
and exclusion</li>
<li>Changed the top level sort position of the <tt class="docutils literal">.devN</tt> suffix</li>
<li>Allowed single value version numbers</li>
<li>Explicit exclusion of leading or trailing whitespace</li>
<li>Explicit criterion for the exclusion of date based versions</li>
<li>Implicitly exclude pre-releases unless they're already present or
needed to satisfy a dependency</li>
<li>Treat post releases the same way as unqualified releases</li>
<li>Discuss ordering and dependencies across metadata versions</li>
</ul>
<p>The rationale for major changes is given in the following sections.</p>
<div class="section" id="adding-source-labels">
<h2><a class="toc-backref" href="#id35">Adding source labels</a></h2>
<p>The new source label support is intended to make it clearer that the
constraints on public version identifiers are there primarily to aid in
the creation of reliable automated dependency analysis tools. Projects
are free to use whatever versioning scheme they like internally, so long
as they are able to translate it to something the dependency analysis tools
will understand.</p>
</div>
<div class="section" id="changing-the-version-scheme">
<h2><a class="toc-backref" href="#id36">Changing the version scheme</a></h2>
<p>The key change in the version scheme in this PEP relative to that in
<a class="reference external" href="/dev/peps/pep-0386">PEP 386</a> is to sort top level developmental releases like <tt class="docutils literal">X.Y.devN</tt> ahead
of alpha releases like <tt class="docutils literal">X.Ya1</tt>. This is a far more logical sort order, as
projects already using both development releases and alphas/betas/release
candidates do not want their developmental releases sorted in
between their release candidates and their final releases. There is no
rationale for using <tt class="docutils literal">dev</tt> releases in that position rather than
merely creating additional release candidates.</p>
<p>The updated sort order also means the sorting of <tt class="docutils literal">dev</tt> versions is now
consistent between the metadata standard and the pre-existing behaviour
of <tt class="docutils literal">pkg_resources</tt> (and hence the behaviour of current installation
tools).</p>
<p>Making this change should make it easier for affected existing projects to
migrate to the latest version of the metadata standard.</p>
<p>Another change to the version scheme is to allow single number
versions, similar to those used by non-Python projects like Mozilla
Firefox, Google Chrome and the Fedora Linux distribution. This is actually
expected to be more useful for version specifiers, but it is easier to
allow it for both version specifiers and release numbers, rather than
splitting the two definitions.</p>
<p>The exclusion of leading and trailing whitespace was made explicit after
a couple of projects with version identifiers differing only in a
trailing <tt class="docutils literal">\n</tt> character were found on PyPI.</p>
<p>The exclusion of major release numbers that look like dates was implied
by the overall text of <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a>, but not clear in the definition of the
version scheme. This exclusion has been made clear in the definition of
the release component.</p>
<p><cite>Appendix A</cite> shows detailed results of an analysis of PyPI distribution
version information, as collected on 19th February, 2013. This analysis
compares the behaviour of the explicitly ordered version schemes defined in
this PEP and <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a> with the de facto standard defined by the behaviour
of setuptools. These metrics are useful, as the intent of both PEPs is to
follow existing setuptools behaviour as closely as is feasible, while
still throwing exceptions for unorderable versions (rather than trying
to guess an appropriate order as setuptools does).</p>
<p>Overall, the percentage of compatible distributions improves from 97.7%
with <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a> to 98.7% with this PEP. While the number of projects affected
in practice was small, some of the affected projects are in widespread use
(such as Pinax and selenium). The surprising ordering discrepancy also
concerned developers and acted as an unnecessary barrier to adoption of
the new metadata standard, even for projects that weren't directly affected.</p>
<p>The data also shows that the pre-release sorting discrepancies are seen
only when analysing <em>all</em> versions from PyPI, rather than when analysing
public versions. This is largely due to the fact that PyPI normally reports
only the most recent version for each project (unless maintainers
explicitly configure their project to display additional versions). However,
installers that need to satisfy detailed version constraints often need
to look at all available versions, as they may need to retrieve an older
release.</p>
<p>Even this PEP doesn't completely eliminate the sorting differences relative
to setuptools:</p>
<ul class="simple">
<li>Sorts differently (after translations): 38 / 28194 (0.13 %)</li>
<li>Sorts differently (no translations): 2 / 28194 (0.01 %)</li>
</ul>
<p>The two remaining sort order discrepancies picked up by the analysis are due
to a pair of projects which have PyPI releases ending with a carriage
return, alongside releases with the same version number, only <em>without</em> the
trailing carriage return.</p>
<p>The sorting discrepancies after translation relate mainly to differences
in the handling of pre-releases where the standard mechanism is considered
to be an improvement. For example, the existing pkg_resources scheme will
sort &quot;1.1beta1&quot; <em>after</em> &quot;1.1b2&quot;, whereas the suggested standard translation
for &quot;1.1beta1&quot; is &quot;1.1b1&quot;, which sorts <em>before</em> &quot;1.1b2&quot;. Similarly, the
pkg_resources scheme will sort &quot;-dev-N&quot; pre-releases differently from
&quot;devN&quot; pre-releases when they occur within the same release, while the
scheme in this PEP requires normalizing both representations to &quot;.devN&quot; and
sorting them by the numeric component.</p>
</div>
<div class="section" id="a-more-opinionated-description-of-the-versioning-scheme">
<h2><a class="toc-backref" href="#id37">A more opinionated description of the versioning scheme</a></h2>
<p>As in <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a>, the primary focus is on codifying existing practices to make
them more amenable to automation, rather than demanding that existing
projects make non-trivial changes to their workflow. However, the
standard scheme allows significantly more flexibility than is needed
for the vast majority of simple Python packages (which often don't even
need maintenance releases - many users are happy with needing to upgrade to a
new feature release to get bug fixes).</p>
<p>For the benefit of novice developers, and for experienced developers
wishing to better understand the various use cases, the specification
now goes into much greater detail on the components of the defined
version scheme, including examples of how each component may be used
in practice.</p>
<p>The PEP also explicitly guides developers in the direction of
semantic versioning (without requiring it), and discourages the use of
several aspects of the full versioning scheme that have largely been
included in order to cover esoteric corner cases in the practices of
existing projects and in repackaging software for Linux distributions.</p>
</div>
<div class="section" id="describing-version-specifiers-alongside-the-versioning-scheme">
<h2><a class="toc-backref" href="#id38">Describing version specifiers alongside the versioning scheme</a></h2>
<p>The main reason to even have a standardised version scheme in the first place
is to make it easier to do reliable automated dependency analysis. It makes
more sense to describe the primary use case for version identifiers alongside
their definition.</p>
</div>
<div class="section" id="changing-the-interpretation-of-version-specifiers">
<h2><a class="toc-backref" href="#id39">Changing the interpretation of version specifiers</a></h2>
<p>The previous interpretation of version specifiers made it very easy to
accidentally download a pre-release version of a dependency. This in
turn made it difficult for developers to publish pre-release versions
of software to the Python Package Index, as even marking the package as
hidden wasn't enough to keep automated tools from downloading it, and also
made it harder for users to obtain the test release manually through the
main PyPI web interface.</p>
<p>The previous interpretation also excluded post-releases from some version
specifiers for no adequately justified reason.</p>
<p>The updated interpretation is intended to make it difficult to accidentally
accept a pre-release version as satisfying a dependency, while still
allowing pre-release versions to be retrieved automatically when that's the
only way to satisfy a dependency.</p>
<p>The &quot;some forward compatibility assumed&quot; default version constraint is
derived from the Ruby community's &quot;pessimistic version constraint&quot;
operator <a class="footnote-reference" href="#id4" id="id2">[2]</a> to allow projects to take a cautious approach to forward
compatibility promises, while still easily setting a minimum required
version for their dependencies. It is made the default behaviour rather
than needing a separate operator in order to explicitly discourage
overspecification of dependencies by library developers. The explicit
comparison operators remain available to cope with dependencies with
unreliable or non-existent backwards compatibility policies, as well
as for legitimate use cases related to deployment of integrated applications.</p>
<p>The optional explicit spelling of the compatible release clause (<tt class="docutils literal">~=</tt>) is
inspired by the Ruby (<tt class="docutils literal">~&gt;</tt>) and PHP (<tt class="docutils literal">~</tt>) equivalents. It is defined
in order to allow easier conversion to the legacy <tt class="docutils literal">pkg_resources</tt> version
specifier format (which omits the parentheses, but requires a comparison
operator).</p>
<p>Further improvements are also planned to the handling of parallel
installation of multiple versions of the same library, but these will
depend on updates to the installation database definition along with
improved tools for dynamic path manipulation.</p>
<p>The trailing wildcard syntax to request prefix based version matching was
added to make it possible to sensibly define both compatible release clauses
and the desired pre- and post-release handling semantics for <tt class="docutils literal">&lt;</tt> and <tt class="docutils literal">&gt;</tt>
ordered comparison clauses.</p>
</div>
<div class="section" id="adding-direct-references">
<h2><a class="toc-backref" href="#id40">Adding direct references</a></h2>
<p>Direct references are added as an &quot;escape clause&quot; to handle messy real
world situations that don't map neatly to the standard distribution model.
This includes dependencies on unpublished software for internal use, as well
as handling the more complex compatibility issues that may arise when
wrapping third party libraries as C extensions (this is of especial concern
to the scientific community).</p>
<p>Index servers are deliberately given a lot of freedom to disallow direct
references, since they're intended primarily as a tool for integrators
rather than publishers. PyPI in particular is currently going through the
process of <em>eliminating</em> dependencies on external references, as unreliable
external services have the effect of slowing down installation operations,
as well as reducing PyPI's own apparent reliability.</p>
</div>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id41">References</a></h1>
<p>The initial attempt at a standardised version scheme, along with the
justifications for needing such a standard can be found in <a class="reference external" href="/dev/peps/pep-0386">PEP 386</a>.</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Version compatibility analysis script:
<a class="reference external" href="http://hg.python.org/peps/file/default/pep-0426/pepsort.py">http://hg.python.org/peps/file/default/pep-0426/pepsort.py</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Pessimistic version constraint
<a class="reference external" href="http://docs.rubygems.org/read/chapter/16">http://docs.rubygems.org/read/chapter/16</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[3]</a></td><td><a class="reference external" href="http://semver.org/">http://semver.org/</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="appendix-a">
<h1><a class="toc-backref" href="#id42">Appendix A</a></h1>
<p>Metadata v2.0 guidelines versus setuptools (note that this analysis was
run when this PEP was still embedded as part of <a class="reference external" href="/dev/peps/pep-0426">PEP 426</a>):</p>
<pre class="literal-block">
$ ./pepsort.py
Comparing PEP 426 version sort to setuptools.

Analysing release versions
  Compatible: 24477 / 28194 (86.82 %)
  Compatible with translation: 247 / 28194 (0.88 %)
  Compatible with filtering: 84 / 28194 (0.30 %)
  No compatible versions: 420 / 28194 (1.49 %)
  Sorts differently (after translations): 0 / 28194 (0.00 %)
  Sorts differently (no translations): 0 / 28194 (0.00 %)
  No applicable versions: 2966 / 28194 (10.52 %)

Analysing public versions
  Compatible: 25600 / 28194 (90.80 %)
  Compatible with translation: 1505 / 28194 (5.34 %)
  Compatible with filtering: 13 / 28194 (0.05 %)
  No compatible versions: 420 / 28194 (1.49 %)
  Sorts differently (after translations): 0 / 28194 (0.00 %)
  Sorts differently (no translations): 0 / 28194 (0.00 %)
  No applicable versions: 656 / 28194 (2.33 %)

Analysing all versions
  Compatible: 24239 / 28194 (85.97 %)
  Compatible with translation: 2833 / 28194 (10.05 %)
  Compatible with filtering: 513 / 28194 (1.82 %)
  No compatible versions: 320 / 28194 (1.13 %)
  Sorts differently (after translations): 38 / 28194 (0.13 %)
  Sorts differently (no translations): 2 / 28194 (0.01 %)
  No applicable versions: 249 / 28194 (0.88 %)
</pre>
<p>Metadata v1.2 guidelines versus setuptools:</p>
<pre class="literal-block">
$ ./pepsort.py 386
Comparing PEP 386 version sort to setuptools.

Analysing release versions
  Compatible: 24244 / 28194 (85.99 %)
  Compatible with translation: 247 / 28194 (0.88 %)
  Compatible with filtering: 84 / 28194 (0.30 %)
  No compatible versions: 648 / 28194 (2.30 %)
  Sorts differently (after translations): 0 / 28194 (0.00 %)
  Sorts differently (no translations): 0 / 28194 (0.00 %)
  No applicable versions: 2971 / 28194 (10.54 %)

Analysing public versions
  Compatible: 25371 / 28194 (89.99 %)
  Compatible with translation: 1507 / 28194 (5.35 %)
  Compatible with filtering: 12 / 28194 (0.04 %)
  No compatible versions: 648 / 28194 (2.30 %)
  Sorts differently (after translations): 0 / 28194 (0.00 %)
  Sorts differently (no translations): 0 / 28194 (0.00 %)
  No applicable versions: 656 / 28194 (2.33 %)

Analysing all versions
  Compatible: 23969 / 28194 (85.01 %)
  Compatible with translation: 2789 / 28194 (9.89 %)
  Compatible with filtering: 530 / 28194 (1.88 %)
  No compatible versions: 547 / 28194 (1.94 %)
  Sorts differently (after translations): 96 / 28194 (0.34 %)
  Sorts differently (no translations): 14 / 28194 (0.05 %)
  No applicable versions: 249 / 28194 (0.88 %)
</pre>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id43">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
End: -->
</div>



      </div>

      
      <div id="footer">
	<div id="credits">
 	  <a href="/about/website">Website maintained by the Python community</a><br/>
	  <a href="http://www.xs4all.com/" title="Web and email hosting provided by xs4all, Netherlands">hosting by xs4all</a> /
	  <a href="http://www.timparkin.co.uk/" title="Design by Tim Parkin, Yorkshire man, photographer and developer">design by Tim Parkin</a>
	</div>
	Copyright &copy; 1990-2013, <a href='/psf/'>Python Software Foundation</a><br/>
	<a href="/about/legal">Legal Statements</a>
      </div>


    </div>
  </div>
</body>
</html>






