<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>PEP 348 -- Exception Reorganization for Python 3.0</title>
  <meta name="keywords" content="PEP 348 -- Exception Reorganization for Python 3.0" />
  <meta name="description" content="PEP 348 -- Exception Reorganization for Python 3.0" />
  <link rel="alternate" type="application/rss+xml" title="Community Events"
        href="http://www.python.org/channews.rdf" />
  <link rel="alternate" type="application/rss+xml" title="Python Recipes"
        href="http://aspn.activestate.com/ASPN/Cookbook/Python/index_rss" />
  <link rel="alternate" type="application/rss+xml" title="Usergroup News"
        href="http://python-groups.blogspot.com/feeds/posts/default" />
  <link rel="alternate" type="application/rss+xml" title="Python Screencasts"
        href="http://www.showmedo.com/latestVideoFeed/rss2.0?tag=python" />
  <link rel="alternate" type="application/rss+xml" title="Python Podcasts"
        href="http://www.awaretek.com/python/index.xml" />
  <link rel="alternate" type="application/rss+xml" title="Foundation News"
        href="http://feeds.feedburner.com/PythonSoftwareFoundationNews" />
  <link rel="alternate" type="application/rss+xml" title="Python Enhancement Proposals"
        href="http://www.python.org/dev/peps/peps.rss" />
  <link rel="alternate" type="application/rss+xml" title="Python Job Opportunities"
        href="http://www.python.org/community/jobs/jobs.rss" />
  <link rel="alternate" type="application/rss+xml" title="Reddit Feed of Python What's New Online"
        href="http://www.reddit.com/r/Python/.rss" />
  <link rel="alternate" type="application/rss+xml" title="Python Insider"
        href="http://feeds.feedburner.com/PythonInsider" />

  <link rel="stylesheet" type="text/css" media="screen" id="screen-switcher-stylesheet"
        href="/styles/screen-switcher-default.css" />
  <link rel="stylesheet" type="text/css" media="sc&#82;een"
        href="/styles/netscape4.css" />
  <link rel="stylesheet" type="text/css" media="print"
        href="/styles/print.css" />
  <link rel="alternate stylesheet" type="text/css" media="screen"
        href="/styles/largestyles.css" title="large text" />
  <link rel="alternate stylesheet" type="text/css" media="screen"
        href="/styles/defaultfonts.css" title="default fonts" />

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search under the www.python.org Domain"
        href="/search-pysite.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within the Python Wiki"
        href="/search-pywiki.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within Python Books at Google Book Search"
        href="/search-pybooks.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within the Python Documentation"
        href="/search-pydocs.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search for a Module in the Standard Library"
        href="/search-pymodules.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search for Packages inside the Cheeseshop (PyPI)"
        href="/search-pycheese.xml"/>

  <link rel="search" type="application/opensearchdescription+xml"
        title="Search Archives of the Main Python Mailing List"
        href="/search-pythonlist.xml"/>

  <script type="text/javascript" src="/js/iotbs2-key-directors-load.js"></script>
  <script type="text/javascript" src="/js/iotbs2-directors.js"></script>
  <script type="text/javascript" src="/js/iotbs2-core.js"></script>

</head>


<body>
  <!-- Logo -->
  <h1 id="logoheader">
    <a href="/" id="logolink" accesskey="1"><img id="logo" src="/images/python-logo.gif" alt="homepage" border="0" /></a>
  </h1>
  <!-- Skip to Navigation -->
  <div class="skiptonav"><a href="#left-hand-navigation" accesskey="2"><img src="/images/trans.gif" id="skiptonav" alt="skip to navigation" border="0" /></a></div>
  <div class="skiptonav"><a href="#content-body" accesskey="3"><img src="/images/trans.gif" id="skiptocontent" alt="skip to content" border="0" /></a></div>
  <!-- Utility Menu -->
  <div id="utility-menu">
    <!-- Search Box -->
    <div id="searchbox">
      <form method="get" action="http://google.com/search" id="searchform" name="searchform">
        <div id="search">
          <input type="hidden" id="domains" name="domains" value="www.python.org" />
          <input type="hidden" id="sitesearch" name="sitesearch" value="www.python.org" />
          <input type="hidden" id="sourceid" name="sourceid" value="google-search" />
          <input type="text" class="input-text" name="q" id="q" />
          <input type="submit" value="search" class="input-button" name="submit" id="submit" />
          <a href="/search" class="reference">Advanced Search</a>
        </div>
      </form>
    </div>
    <div id="screen-switcher"></div>
  </div>

  <div id="left-hand-navigation">
    <!-- Main Menu -->
    <div id="menu">
      <ul class="level-one">
            <li>
          <a href="/about/" title="About The Python Language">About</a>
        </li>
            <li>
          <a href="/news/" title="Major Happenings Within the Python Community">News</a>
        </li>
            <li>
          <a href="/doc/" title="Tutorials, Library Reference, C API">Documentation</a>
        </li>
            <li>
          <a href="/download/" title="Start Running Python Under Windows, Mac, Linux and Others">Download</a>
        </li>
            <li>
          <a href="/getit/" title="Alternate Download page for China">ä¸è½½</a>
        </li>
            <li>
          <a href="/community/" title="Mailing Lists, Jobs, Conferences, SIGs, Online Chats">Community</a>
        </li>
            <li>
          <a href="/psf/" title="Python Software Foundation">Foundation</a>
        </li>
            <li>
          <a href="http://docs.python.org/devguide/" title="Development of the Python language and website">Core Development</a>
        </li>
      </ul>
    </div>

    <!-- Quick Links -->
    <h4><a style="margin-top:1.5em" href="http://wiki.python.org/moin/">Python Wiki</a></h4>
    <h4><a style="margin-top:1.5em" href="http://blog.python.org/">Python Insider Blog</a></h4>
    <h4><a style="margin-top:1.5em" href="http://wiki.python.org/moin/Python2orPython3">Python 2 or 3?</a></h4>
    <h4><a style="color:#D58228; margin-top:1.5em" href="/psf/donations/">Help Fund Python</a></h4>
    <div style="align:center; padding-top: 0.5em; padding-left: 1em">
      <a href="/psf/donations/"><img width="116" height="42" src="/images/donate.png" alt="" title="" /></a>
    </div>
    <div style="align:center; padding-top: 0.5em; padding-left: 2.5em">
            <a href="http://wiki.python.org/moin/Languages"><img
	      style="align:center"
              width="94" height="46"
	      src="/images/worldmap.jpg" alt="[Python resources in languages other than English]" /></a>
    </div>
    <div style="align:center; padding-top: 0.0em; padding-left: 0em">
       <h4><a href="http://wiki.python.org/moin/Languages">Non-English Resources</a></h4>
    </div>
    <div class="calendar">
        <iframe src="https://www.google.com/calendar/embed?title=Release%20Schedule&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=300&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=b6v58qvojllt0i6ql654r1vh00%40group.calendar.google.com&amp;color=%23B1365F&amp;" style=" border-width:0 " width="180" height="300" frameborder="0" scrolling="no">
            <a href="http://www.google.com/calendar/ical/b6v58qvojllt0i6ql654r1vh00%40group.calendar.google.com/public/basic.ics">
                Python Release Schedule iCal Calendar
            </a>
        </iframe>
    </div>
    <div class="calendar">
        <iframe src="https://www.google.com/calendar/embed?title=Events%20Calendar&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=300&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=j7gov1cmnqr9tvg14k621j7t5c%40group.calendar.google.com&amp;color=%23B1365F&amp;" style=" border-width:0 " width="180" height="300" frameborder="0" scrolling="no">
            <a href="http://www.google.com/calendar/ical/j7gov1cmnqr9tvg14k621j7t5c%40group.calendar.google.com/public/basic.ics">
                Python Events iCal Calendar
            </a>
        </iframe>
        <p class="level-one"><a href="http://pycon.org/#calendar">Add an event</a> to this calendar.</p>
    </div>
    <div class="calendar">
        <iframe src="https://www.google.com/calendar/embed?title=User%20Group%20Calendar&amp;showNav=0&amp;showDate=0&amp;showPrint=0&amp;showTabs=0&amp;showCalendars=0&amp;showTz=0&amp;mode=AGENDA&amp;height=300&amp;wkst=1&amp;bgcolor=%23FFFFFF&amp;src=3haig2m9msslkpf2tn1h56nn9g%40group.calendar.google.com&amp;color=%23125A12&amp;" style=" border-width:0 " width="180" height="300" frameborder="0" scrolling="no">
            <a href="http://www.google.com/calendar/ical/3haig2m9msslkpf2tn1h56nn9g%40group.calendar.google.com/public/basic.ics">
                Python User Group iCal Calendar
            </a>
        </iframe>
        <p class="level-one"><a href="http://pycon.org/#calendar">Add an event</a> to this calendar.</p>
    </div>
  </div>

  <div id="content-body">
    <div id="body-main">
      <div id="content">
        
          <div id="breadcrumb">
               <a href="/dev/peps/">PEP Index</a>
               <span class="breadcrumb-separator">&gt;</span>
            
            PEP 348 -- Exception Reorganization for Python 3.0
          </div>



        <!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">PEP:</th><td class="field-body">348</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Exception Reorganization for Python 3.0</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">4ac931d06741</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="http://hg.python.org/peps/file/tip/pep-0348.txt">2012-10-06 07:52:39 +0300 (Sat, 06 Oct 2012)</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Brett Cannon &lt;brett&#32;&#97;t&#32;python.org&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Rejected</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Standards Track</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="/dev/peps/pep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">28-Jul-2005</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id25">Abstract</a></li>
<li><a class="reference internal" href="#rationale-for-wanting-change" id="id26">Rationale For Wanting Change</a></li>
<li><a class="reference internal" href="#philosophy-of-reorganization" id="id27">Philosophy of Reorganization</a></li>
<li><a class="reference internal" href="#new-hierarchy" id="id28">New Hierarchy</a></li>
<li><a class="reference internal" href="#differences-compared-to-python-2-4" id="id29">Differences Compared to Python 2.4</a><ul>
<li><a class="reference internal" href="#baseexception" id="id30">BaseException</a></li>
<li><a class="reference internal" href="#keyboardinterrupt-and-systemexit" id="id31">KeyboardInterrupt and SystemExit</a></li>
<li><a class="reference internal" href="#notimplementederror" id="id32">NotImplementedError</a></li>
</ul>
</li>
<li><a class="reference internal" href="#required-superclass-for-raise" id="id33">Required Superclass for <tt class="docutils literal">raise</tt></a><ul>
<li><a class="reference internal" href="#implementation" id="id34">Implementation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bare-except-clauses-catch-exception" id="id35">Bare <tt class="docutils literal">except</tt> Clauses Catch Exception</a><ul>
<li><a class="reference internal" href="#id15" id="id36">Implementation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#transition-plan" id="id37">Transition Plan</a></li>
<li><a class="reference internal" href="#rejected-ideas" id="id38">Rejected Ideas</a><ul>
<li><a class="reference internal" href="#deprecationwarning-inheriting-from-pendingdeprecationwarning" id="id39">DeprecationWarning Inheriting From PendingDeprecationWarning</a></li>
<li><a class="reference internal" href="#attributeerror-inheriting-from-typeerror-or-nameerror" id="id40">AttributeError Inheriting From TypeError or NameError</a></li>
<li><a class="reference internal" href="#removal-of-environmenterror" id="id41">Removal of EnvironmentError</a></li>
<li><a class="reference internal" href="#introduction-of-macerror-and-unixerror" id="id42">Introduction of MacError and UnixError</a></li>
<li><a class="reference internal" href="#systemerror-subclassing-systemexit" id="id43">SystemError Subclassing SystemExit</a></li>
<li><a class="reference internal" href="#controlflowexception-under-exception" id="id44">ControlFlowException Under Exception</a></li>
<li><a class="reference internal" href="#rename-nameerror-to-namespaceerror" id="id45">Rename NameError to NamespaceError</a><ul>
<li><a class="reference internal" href="#renaming-runtimeerror-or-introducing-simpleerror" id="id46">Renaming RuntimeError or Introducing SimpleError</a></li>
</ul>
</li>
<li><a class="reference internal" href="#renaming-existing-exceptions" id="id47">Renaming Existing Exceptions</a></li>
<li><a class="reference internal" href="#have-eoferror-subclass-ioerror" id="id48">Have EOFError Subclass IOError</a></li>
<li><a class="reference internal" href="#have-memoryerror-and-systemerror-have-a-common-superclass" id="id49">Have MemoryError and SystemError Have a Common Superclass</a></li>
<li><a class="reference internal" href="#common-superclass-for-pendingdeprecationwarning-and-deprecationwarning" id="id50">Common Superclass for PendingDeprecationWarning and DeprecationWarning</a></li>
<li><a class="reference internal" href="#removing-windowserror" id="id51">Removing WindowsError</a></li>
<li><a class="reference internal" href="#superclass-for-keyboardinterrupt-and-systemexit" id="id52">Superclass for KeyboardInterrupt and SystemExit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#acknowledgements" id="id53">Acknowledgements</a></li>
<li><a class="reference internal" href="#references" id="id54">References</a></li>
<li><a class="reference internal" href="#copyright" id="id55">Copyright</a></li>
</ul>
</div>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">This PEP has been rejected <a class="footnote-reference" href="#rejected" id="id1">[20]</a>.</p>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id25">Abstract</a></h1>
<p>Python, as of version 2.4, has 38 exceptions (including warnings) in
the built-in namespace in a rather shallow hierarchy.  These
classes have come about over the years without a chance to learn from
experience.  This PEP proposes doing a reorganization of the hierarchy
for Python 3.0 when backwards-compatibility is not as much of an
issue.</p>
<p>Along with this reorganization, adding a requirement that all
objects passed to a <tt class="docutils literal">raise</tt> statement must inherit from a specific
superclass is proposed.  This is to have guarantees about the basic
interface of exceptions and to further enhance the natural hierarchy
of exceptions.</p>
<p>Lastly, bare <tt class="docutils literal">except</tt> clauses will be changed to be semantically
equivalent to <tt class="docutils literal">except Exception</tt>.  Most people currently use bare
<tt class="docutils literal">except</tt> clause for this purpose and with the exception hierarchy
reorganization becomes a viable default.</p>
</div>
<div class="section" id="rationale-for-wanting-change">
<h1><a class="toc-backref" href="#id26">Rationale For Wanting Change</a></h1>
<p>Exceptions are a critical part of Python.  While exceptions are
traditionally used to signal errors in a program, they have also grown
to be used for flow control for things such as iterators.</p>
<p>While their importance is great, there is a lack of structure to them.
This stems from the fact that any object can be raised as an
exception.  Because of this you have no guarantee in terms of what
kind of object will be raised, destroying any possible hierarchy
raised objects might adhere to.</p>
<p>But exceptions do have a hierarchy, showing the severity of the
exception.  The hierarchy also groups related exceptions together to
simplify catching them in <tt class="docutils literal">except</tt> clauses.  To allow people to
be able to rely on this hierarchy, a common superclass that all
raise objects must inherit from is being proposed.  It also allows
guarantees about the interface to raised objects to be made (see
<a class="reference external" href="/dev/peps/pep-0344">PEP 344</a> <a class="footnote-reference" href="#pep344" id="id2">[2]</a>).  A discussion about all of this has occurred
before on python-dev <a class="footnote-reference" href="#summary2004-08-01" id="id3">[4]</a>.</p>
<p>As bare <tt class="docutils literal">except</tt> clauses stand now, they catch <em>all</em> exceptions.
While this can be handy, it is rather overreaching for the common
case.  Thanks to having a required superclass, catching all
exceptions is as easy as catching just one specific exception.
This allows bare <tt class="docutils literal">except</tt> clauses to be used for a more useful
purpose.
Once again, this has been discussed on python-dev <a class="footnote-reference" href="#python-dev3" id="id4">[5]</a>.</p>
<p>Finally, slight changes to the exception hierarchy will make it much
more reasonable in terms of structure.  By minor rearranging
exceptions
that should not typically be caught can be allowed to propagate to the
top of the execution stack, terminating the interpreter as intended.</p>
</div>
<div class="section" id="philosophy-of-reorganization">
<h1><a class="toc-backref" href="#id27">Philosophy of Reorganization</a></h1>
<p>For the reorganization of the hierarchy, there was a general
philosophy followed that developed from discussion of earlier drafts
of this PEP <a class="footnote-reference" href="#python-dev-thread1" id="id5">[7]</a>, <a class="footnote-reference" href="#python-dev-thread2" id="id6">[8]</a>,
<a class="footnote-reference" href="#python-dev-thread3" id="id7">[9]</a>, <a class="footnote-reference" href="#python-dev-thread4" id="id8">[10]</a>,
<a class="footnote-reference" href="#python-dev-thread5" id="id9">[11]</a>, <a class="footnote-reference" href="#python-dev-thread6" id="id10">[12]</a>.
First and foremost was to not break anything
that works.  This meant that renaming exceptions was out of the
question unless the name was deemed severely bad.  This
also meant no removal of exceptions unless they were viewed as
truly misplaced. The introduction of new exceptions were only done in
situations where there might be a use for catching a superclass of a
category of exceptions.  Lastly, existing exceptions would have their
inheritance tree changed only if it was felt they were truly
misplaced to begin with.</p>
<p>For all new exceptions, the proper suffix had to be chosen.  For
those that signal an error, &quot;Error&quot; is to be used.  If the exception
is a warning, then &quot;Warning&quot;.  &quot;Exception&quot; is to be used when none
of the other suffixes are proper to use and no specific suffix is
a better fit.</p>
<p>After that it came down to choosing which exceptions should and
should not inherit from Exception.  This was for the purpose of
making bare <tt class="docutils literal">except</tt> clauses more useful.</p>
<p>Lastly, the entire existing hierarchy had to inherit from the new
exception meant to act as the required superclass for all exceptions
to inherit from.</p>
</div>
<div class="section" id="new-hierarchy">
<h1><a class="toc-backref" href="#id28">New Hierarchy</a></h1>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Exceptions flagged with &quot;stricter inheritance&quot; will no
longer inherit from a certain class.  A &quot;broader inheritance&quot; flag
means a class has been added to the exception's inheritance tree.
All comparisons are against the Python 2.4 exception hierarchy.</p>
</div>
<pre class="literal-block">
+-- BaseException (new; broader inheritance for subclasses)
    +-- Exception
        +-- GeneratorExit (defined in <a class="reference external" href="/dev/peps/pep-0342">PEP 342</a> <a class="footnote-reference" href="#pep342" id="id11">[1]</a>)
        +-- StandardError
            +-- ArithmeticError
                +-- DivideByZeroError
                +-- FloatingPointError
                +-- OverflowError
            +-- AssertionError
            +-- AttributeError
            +-- EnvironmentError
                +-- IOError
                +-- EOFError
                +-- OSError
            +-- ImportError
            +-- LookupError
                +-- IndexError
                +-- KeyError
            +-- MemoryError
            +-- NameError
                +-- UnboundLocalError
            +-- NotImplementedError (stricter inheritance)
            +-- SyntaxError
                +-- IndentationError
                    +-- TabError
            +-- TypeError
            +-- RuntimeError
            +-- UnicodeError
                +-- UnicodeDecodeError
                +-- UnicodeEncodeError
                +-- UnicodeTranslateError
            +-- ValueError
            +-- ReferenceError
        +-- StopIteration
        +-- SystemError
        +-- Warning
            +-- DeprecationWarning
            +-- FutureWarning
            +-- PendingDeprecationWarning
            +-- RuntimeWarning
            +-- SyntaxWarning
            +-- UserWarning
        + -- WindowsError
    +-- KeyboardInterrupt (stricter inheritance)
    +-- SystemExit (stricter inheritance)
</pre>
</div>
<div class="section" id="differences-compared-to-python-2-4">
<h1><a class="toc-backref" href="#id29">Differences Compared to Python 2.4</a></h1>
<p>A more thorough explanation of terms is needed when discussing
inheritance changes.  Inheritance changes result in either broader or
more restrictive inheritance.  &quot;Broader&quot; is when a class has an
inheritance tree like <tt class="docutils literal">cls, A</tt> and then becomes <tt class="docutils literal">cls, B, A</tt>.
&quot;Stricter&quot; is the reverse.</p>
<div class="section" id="baseexception">
<h2><a class="toc-backref" href="#id30">BaseException</a></h2>
<p>The superclass that all exceptions must inherit from.  It's name was
chosen to reflect that it is at the base of the exception hierarchy
while being an exception itself.  &quot;Raisable&quot; was considered as a name,
it was passed on because its name did not properly reflect the fact
that it is an exception itself.</p>
<p>Direct inheritance of BaseException is not expected, and will
be discouraged for the general case.  Most user-defined
exceptions should inherit from Exception instead.  This allows
catching Exception to continue to work in the common case of catching
all exceptions that should be caught.  Direct inheritance of
BaseException should only be done in cases where an entirely new
category of exception is desired.</p>
<p>But, for cases where all
exceptions should be caught blindly, <tt class="docutils literal">except BaseException</tt> will
work.</p>
</div>
<div class="section" id="keyboardinterrupt-and-systemexit">
<h2><a class="toc-backref" href="#id31">KeyboardInterrupt and SystemExit</a></h2>
<p>Both exceptions are no longer under Exception.  This is to allow bare
<tt class="docutils literal">except</tt> clauses to act as a more viable default case by catching
exceptions that inherit from Exception.  With both KeyboardInterrupt
and SystemExit acting as signals that the interpreter is expected to
exit, catching them in the common case is the wrong semantics.</p>
</div>
<div class="section" id="notimplementederror">
<h2><a class="toc-backref" href="#id32">NotImplementedError</a></h2>
<p>Inherits from Exception instead of from RuntimeError.</p>
<p>Originally inheriting from RuntimeError, NotImplementedError does not
have any direct relation to the exception meant for use in user code
as a quick-and-dirty exception.  Thus it now directly inherits from
Exception.</p>
</div>
</div>
<div class="section" id="required-superclass-for-raise">
<h1><a class="toc-backref" href="#id33">Required Superclass for <tt class="docutils literal">raise</tt></a></h1>
<p>By requiring all objects passed to a <tt class="docutils literal">raise</tt> statement to inherit
from a specific superclass, all exceptions are guaranteed to have
certain attributes.  If <a class="reference external" href="/dev/peps/pep-0344">PEP 344</a> <a class="footnote-reference" href="#pep344" id="id12">[2]</a> is accepted, the attributes
outlined there will be guaranteed to be on all exceptions raised.
This should help facilitate debugging by making the querying of
information from exceptions much easier.</p>
<p>The proposed hierarchy has BaseException as the required base class.</p>
<div class="section" id="implementation">
<h2><a class="toc-backref" href="#id34">Implementation</a></h2>
<p>Enforcement is straightforward.  Modifying <tt class="docutils literal">RAISE_VARARGS</tt> to do an
inheritance check first before raising an exception should be enough.
For the C API, all functions that set an exception will have the same
inheritance check applied.</p>
</div>
</div>
<div class="section" id="bare-except-clauses-catch-exception">
<h1><a class="toc-backref" href="#id35">Bare <tt class="docutils literal">except</tt> Clauses Catch Exception</a></h1>
<p>In most existing Python 2.4 code, bare <tt class="docutils literal">except</tt> clauses are too
broad in the exceptions they catch.  Typically only exceptions that
signal an error are desired to be caught.  This means that exceptions
that are used to signify that the interpreter should exit should not
be caught in the common case.</p>
<p>With KeyboardInterrupt and SystemExit moved to inherit from
BaseException instead of Exception, changing bare <tt class="docutils literal">except</tt> clauses
to act as <tt class="docutils literal">except Exception</tt> becomes a much more reasonable
default.  This change also will break very little code since these
semantics are what most people want for bare <tt class="docutils literal">except</tt> clauses.</p>
<p>The complete removal of bare <tt class="docutils literal">except</tt> clauses has been argued for.
The case has been made that they violate both Only One Way To Do It
(OOWTDI) and Explicit Is Better Than Implicit (EIBTI) as listed in the
Zen of Python <a class="footnote-reference" href="#zen" id="id13">[18]</a>.  But Practicality Beats Purity (PBP), also in
the Zen of Python, trumps both of these in this case.  The BDFL has
stated that bare <tt class="docutils literal">except</tt> clauses will work this way
<a class="footnote-reference" href="#python-dev8" id="id14">[17]</a>.</p>
<div class="section" id="id15">
<h2><a class="toc-backref" href="#id36">Implementation</a></h2>
<p>The compiler will emit the bytecode for <tt class="docutils literal">except Exception</tt> whenever
a bare <tt class="docutils literal">except</tt> clause is reached.</p>
</div>
</div>
<div class="section" id="transition-plan">
<h1><a class="toc-backref" href="#id37">Transition Plan</a></h1>
<p>Because of the complexity and clutter that would be required to add
all features planned in this PEP, the transition plan is very simple.
In Python 2.5 BaseException is added.  In Python 3.0, all remaining
features (required superclass, change in inheritance, bare <tt class="docutils literal">except</tt>
clauses becoming the same as <tt class="docutils literal">except Exception</tt>) will go into
affect.  In order to make all of this work in a backwards-compatible
way in Python 2.5 would require very deep hacks in the exception
machinery which could be error-prone and lead to a slowdown in
performance for little benefit.</p>
<p>To help with the transition, the documentation will be changed to
reflect several programming guidelines:</p>
<ul class="simple">
<li>When one wants to catch <em>all</em> exceptions, catch BaseException</li>
<li>To catch all exceptions that do not represent the termination of
the interpreter, catch Exception explicitly</li>
<li>Explicitly catch KeyboardInterrupt and SystemExit; don't rely on
inheritance from Exception to lead to the capture</li>
<li>Always catch NotImplementedError explicitly instead of relying on
the inheritance from RuntimeError</li>
</ul>
<p>The documentation for the 'exceptions' module <a class="footnote-reference" href="#exceptions-stdlib" id="id16">[6]</a>,
tutorial <a class="footnote-reference" href="#tutorial" id="id17">[19]</a>, and <a class="reference external" href="/dev/peps/pep-0290">PEP 290</a> <a class="footnote-reference" href="#pep290" id="id18">[3]</a> will all require
updating.</p>
</div>
<div class="section" id="rejected-ideas">
<h1><a class="toc-backref" href="#id38">Rejected Ideas</a></h1>
<div class="section" id="deprecationwarning-inheriting-from-pendingdeprecationwarning">
<h2><a class="toc-backref" href="#id39">DeprecationWarning Inheriting From PendingDeprecationWarning</a></h2>
<p>This was originally proposed because a DeprecationWarning can be
viewed as a PendingDeprecationWarning that is being removed in the
next version.  But since enough people thought the inheritance could
logically work the other way around, the idea was dropped.</p>
</div>
<div class="section" id="attributeerror-inheriting-from-typeerror-or-nameerror">
<h2><a class="toc-backref" href="#id40">AttributeError Inheriting From TypeError or NameError</a></h2>
<p>Viewing attributes as part of the interface of a type caused the idea
of inheriting from TypeError.  But that partially defeats the thinking
of duck typing and thus the idea was dropped.</p>
<p>Inheriting from NameError was suggested because objects can be viewed
as having their own namespace where the attributes live and when an
attribute is not found it is a namespace failure.  This was also
dropped as a possibility since not everyone shared this view.</p>
</div>
<div class="section" id="removal-of-environmenterror">
<h2><a class="toc-backref" href="#id41">Removal of EnvironmentError</a></h2>
<p>Originally proposed based on the idea that EnvironmentError was an
unneeded distinction, the BDFL overruled this idea <a class="footnote-reference" href="#python-dev4" id="id19">[13]</a>.</p>
</div>
<div class="section" id="introduction-of-macerror-and-unixerror">
<h2><a class="toc-backref" href="#id42">Introduction of MacError and UnixError</a></h2>
<p>Proposed to add symmetry to WindowsError, the BDFL said they won't be
used enough <a class="footnote-reference" href="#python-dev4" id="id20">[13]</a>.  The idea of then removing WindowsError
was proposed and accepted as reasonable, thus completely negating the
idea of adding these exceptions.</p>
</div>
<div class="section" id="systemerror-subclassing-systemexit">
<h2><a class="toc-backref" href="#id43">SystemError Subclassing SystemExit</a></h2>
<p>Proposed because a SystemError is meant to lead to a system exit, the
idea was removed since CriticalError indicates this better.</p>
</div>
<div class="section" id="controlflowexception-under-exception">
<h2><a class="toc-backref" href="#id44">ControlFlowException Under Exception</a></h2>
<p>It has been suggested that ControlFlowException should inherit from
Exception.  This idea has been rejected based on the thinking that
control flow exceptions typically do not all need to be caught by a
single <tt class="docutils literal">except</tt> clause.</p>
</div>
<div class="section" id="rename-nameerror-to-namespaceerror">
<h2><a class="toc-backref" href="#id45">Rename NameError to NamespaceError</a></h2>
<p>NameError is considered more succinct and leaves open no possible
mistyping of
the capitalization of &quot;Namespace&quot; <a class="footnote-reference" href="#python-dev5" id="id21">[14]</a>.</p>
<div class="section" id="renaming-runtimeerror-or-introducing-simpleerror">
<h3><a class="toc-backref" href="#id46">Renaming RuntimeError or Introducing SimpleError</a></h3>
<p>The thinking was that RuntimeError was in no way an obvious name for
an exception meant to be used when a situation did not call for the
creation of a new exception.  The renaming was rejected on the basis
that the exception is already used throughout the interpreter
<a class="footnote-reference" href="#python-dev6" id="id22">[15]</a>.
Rejection of SimpleError was founded on the thought that people
should be free to use whatever exception they choose and not have one
so blatently suggested <a class="footnote-reference" href="#python-dev7" id="id23">[16]</a>.</p>
</div>
</div>
<div class="section" id="renaming-existing-exceptions">
<h2><a class="toc-backref" href="#id47">Renaming Existing Exceptions</a></h2>
<p>Various renamings were suggested but non garnered more than a +0 vote
(renaming ReferenceError to WeakReferenceError).  The thinking was
that the existing names were fine and no one had actively complained
about them ever.  To minimize backwards-compatibility issues and
causing existing Python programmers extra pain, the renamings were
removed.</p>
</div>
<div class="section" id="have-eoferror-subclass-ioerror">
<h2><a class="toc-backref" href="#id48">Have EOFError Subclass IOError</a></h2>
<p>The original thought was that since EOFError deals directly with I/O,
it should
subclass IOError.  But since EOFError is used more as a signal that an
event
has occurred (the exhaustion of an I/O port), it should not subclass
such a specific error exception.</p>
</div>
<div class="section" id="have-memoryerror-and-systemerror-have-a-common-superclass">
<h2><a class="toc-backref" href="#id49">Have MemoryError and SystemError Have a Common Superclass</a></h2>
<p>Both classes deal with the interpreter, so why not have them have a
common
superclass?  Because one of them means that the interpreter is in a
state that it should not recover from while the other does not.</p>
</div>
<div class="section" id="common-superclass-for-pendingdeprecationwarning-and-deprecationwarning">
<h2><a class="toc-backref" href="#id50">Common Superclass for PendingDeprecationWarning and DeprecationWarning</a></h2>
<p>Grouping the deprecation warning exceptions together makes intuitive
sense.
But this sensical idea does not extend well when one considers how
rarely either warning is used, let along at the same time.</p>
</div>
<div class="section" id="removing-windowserror">
<h2><a class="toc-backref" href="#id51">Removing WindowsError</a></h2>
<p>Originally proposed based on the idea that having such a
platform-specific exception should not be in the built-in namespace.
It turns out, though, enough code exists that uses the exception to
warrant it staying.</p>
</div>
<div class="section" id="superclass-for-keyboardinterrupt-and-systemexit">
<h2><a class="toc-backref" href="#id52">Superclass for KeyboardInterrupt and SystemExit</a></h2>
<p>Proposed to make catching non-Exception inheriting exceptions easier
along with easing the transition to the new hierarchy, the idea was
rejected by the BDFL <a class="footnote-reference" href="#python-dev8" id="id24">[17]</a>.  The argument that existing
code did not show enough instances of the pair of exceptions being
caught and thus did not justify cluttering the built-in namespace
was used.</p>
</div>
</div>
<div class="section" id="acknowledgements">
<h1><a class="toc-backref" href="#id53">Acknowledgements</a></h1>
<p>Thanks to Robert Brewer, Josiah Carlson, Nick Coghlan, Timothy
Delaney, Jack Diedrich, Fred L. Drake, Jr., Philip J. Eby, Greg Ewing,
James Y. Knight, MA Lemburg, Guido van Rossum, Stephen J. Turnbull,
Raymond Hettinger, and everyone else I missed for participating in the
discussion.</p>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id54">References</a></h1>
<table class="docutils footnote" frame="void" id="pep342" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id11">[1]</a></td><td><a class="reference external" href="/dev/peps/pep-0342">PEP 342</a> (Coroutines via Enhanced Generators)
<a class="reference external" href="http://www.python.org/dev/peps/pep-0342/">http://www.python.org/dev/peps/pep-0342/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="pep344" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id12">2</a>)</em> <a class="reference external" href="/dev/peps/pep-0344">PEP 344</a> (Exception Chaining and Embedded Tracebacks)
<a class="reference external" href="http://www.python.org/dev/peps/pep-0344/">http://www.python.org/dev/peps/pep-0344/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="pep290" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[3]</a></td><td><a class="reference external" href="/dev/peps/pep-0290">PEP 290</a> (Code Migration and Modernization)
<a class="reference external" href="http://www.python.org/dev/peps/pep-0290/">http://www.python.org/dev/peps/pep-0290/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="summary2004-08-01" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[4]</a></td><td>python-dev Summary (An exception is an
exception, unless it doesn't inherit from Exception)
<a class="reference external" href="http://www.python.org/dev/summary/2004-08-01_2004-08-15.html#an-exception-is-an-exception-unless-it-doesn-t-inherit-from-exception">http://www.python.org/dev/summary/2004-08-01_2004-08-15.html#an-exception-is-an-exception-unless-it-doesn-t-inherit-from-exception</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[5]</a></td><td>python-dev email (PEP, take 2: Exception
Reorganization for Python 3.0)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055116.html">http://mail.python.org/pipermail/python-dev/2005-August/055116.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="exceptions-stdlib" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id16">[6]</a></td><td>exceptions module
<a class="reference external" href="http://docs.python.org/library/exceptions.html">http://docs.python.org/library/exceptions.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev-thread1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[7]</a></td><td>python-dev thread (Pre-PEP: Exception
Reorganization for Python 3.0)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-July/055020.html">http://mail.python.org/pipermail/python-dev/2005-July/055020.html</a>,
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055065.html">http://mail.python.org/pipermail/python-dev/2005-August/055065.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev-thread2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[8]</a></td><td>python-dev thread (PEP, take 2: Exception
Reorganization for Python 3.0)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055103.html">http://mail.python.org/pipermail/python-dev/2005-August/055103.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev-thread3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[9]</a></td><td>python-dev thread (Reorg PEP checked in)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055138.html">http://mail.python.org/pipermail/python-dev/2005-August/055138.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev-thread4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[10]</a></td><td>python-dev thread (Major revision of <a class="reference external" href="/dev/peps/pep-0348">PEP 348</a> committed)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055199.html">http://mail.python.org/pipermail/python-dev/2005-August/055199.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev-thread5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[11]</a></td><td>python-dev thread (Exception Reorg PEP revised yet again)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055292.html">http://mail.python.org/pipermail/python-dev/2005-August/055292.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev-thread6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[12]</a></td><td>python-dev thread (<a class="reference external" href="/dev/peps/pep-0348">PEP 348</a> (exception reorg) revised again)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055412.html">http://mail.python.org/pipermail/python-dev/2005-August/055412.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[13]</td><td><em>(<a class="fn-backref" href="#id19">1</a>, <a class="fn-backref" href="#id20">2</a>)</em> python-dev email (Pre-PEP: Exception Reorganization
for Python 3.0)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-July/055019.html">http://mail.python.org/pipermail/python-dev/2005-July/055019.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id21">[14]</a></td><td>python-dev email (PEP, take 2: Exception Reorganization for
Python 3.0)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055159.html">http://mail.python.org/pipermail/python-dev/2005-August/055159.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id22">[15]</a></td><td>python-dev email (Exception Reorg PEP checked in)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055149.html">http://mail.python.org/pipermail/python-dev/2005-August/055149.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id23">[16]</a></td><td>python-dev email (Exception Reorg PEP checked in)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055175.html">http://mail.python.org/pipermail/python-dev/2005-August/055175.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="python-dev8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[17]</td><td><em>(<a class="fn-backref" href="#id14">1</a>, <a class="fn-backref" href="#id24">2</a>)</em> python-dev email (<a class="reference external" href="/dev/peps/pep-0348">PEP 348</a> (exception reorg) revised again)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055423.html">http://mail.python.org/pipermail/python-dev/2005-August/055423.html</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="zen" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[18]</a></td><td><a class="reference external" href="/dev/peps/pep-0020">PEP 20</a> (The Zen of Python)
<a class="reference external" href="http://www.python.org/dev/peps/pep-0020/">http://www.python.org/dev/peps/pep-0020/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="tutorial" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id17">[19]</a></td><td>Python Tutorial
<a class="reference external" href="http://docs.python.org/tutorial/">http://docs.python.org/tutorial/</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="rejected" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[20]</a></td><td>python-dev email (Bare except clauses in <a class="reference external" href="/dev/peps/pep-0348">PEP 348</a>)
<a class="reference external" href="http://mail.python.org/pipermail/python-dev/2005-August/055676.html">http://mail.python.org/pipermail/python-dev/2005-August/055676.html</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id55">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
<!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
End: -->
</div>



      </div>

      
      <div id="footer">
	<div id="credits">
 	  <a href="/about/website">Website maintained by the Python community</a><br/>
	  <a href="http://www.xs4all.com/" title="Web and email hosting provided by xs4all, Netherlands">hosting by xs4all</a> /
	  <a href="http://www.timparkin.co.uk/" title="Design by Tim Parkin, Yorkshire man, photographer and developer">design by Tim Parkin</a>
	</div>
	Copyright &copy; 1990-2013, <a href='/psf/'>Python Software Foundation</a><br/>
	<a href="/about/legal">Legal Statements</a>
      </div>


    </div>
  </div>
</body>
</html>






